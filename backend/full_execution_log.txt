2026-01-07 22:17:32,627 - app.main - INFO - ================================================================================
2026-01-07 22:17:32,628 - app.main - INFO - Backend starting up - logging to C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\full_execution_log.txt
2026-01-07 22:17:32,628 - app.main - INFO - ================================================================================
2026-01-07 22:17:50,534 - app.main - INFO - ================================================================================
2026-01-07 22:17:50,535 - app.main - INFO - Backend starting up - logging to C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\full_execution_log.txt
2026-01-07 22:17:50,537 - app.main - INFO - ================================================================================
2026-01-07 22:17:59,985 - app.main - INFO - ================================================================================
2026-01-07 22:17:59,986 - app.main - INFO - Backend starting up - logging to C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\full_execution_log.txt
2026-01-07 22:17:59,987 - app.main - INFO - ================================================================================
 REQUEST RECEIVED: BTC/USDT rsi 4h
 Custom Ranges: {'stop_loss': {'min': 0.005, 'max': 0.13, 'step': 0.002}, 'stop_gain': [None]}
 Strategy Params: {'length': 14, 'overbought': 70, 'oversold': 30}
 Fixed Timeframe: 4h
2026-01-07 22:18:00,051 - app.services.job_manager - INFO - SQLite database initialized at C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\data\jobs\results.db
2026-01-07 22:18:00,051 - app.services.job_manager - INFO - JobManager initialized. Data dir: C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\data\jobs, DB: C:\Users\alans.triggo\OneDrive - Corpay\Documentos\projetos\crypto\backend\data\jobs\results.db
 Created job: 110e489d-a5b6-4849-a277-b445e4df6c06
 Strategy Defaults (Base): {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h'}
 Optimization parameters across all stages: {'stop_loss', 'stop_gain'}
 Running stage 1/2: Stop Loss
 Locked params before stage: {'timeframe': '4h', 'fee': 0.00075, 'slippage': 0.0}
2026-01-07 22:18:00,132 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 1d: data/storage\binance\BTC_USDT_1d.parquet
2026-01-07 22:18:00,302 - src.data.incremental_loader - INFO - Incremental update needed. Downloading from 2026-01-07 21:00:00.001000
2026-01-07 22:18:00,305 - src.data.incremental_loader - INFO - Starting download loop for BTC/USDT from 2026-01-07 21:00:00.001000
2026-01-07 22:18:06,204 - root - INFO - Full history period: 2017-08-17T00:00:00+00:00 to 2026-01-08T00:00:00+00:00 (3067 candles)
2026-01-07 22:18:06,241 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:06,245 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:06,250 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:06,278 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:06,279 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:06,283 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:06,284 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:06,715 - root - INFO - DEBUG: Test 1 (stop_loss=0.0) -> Return: 0.736359708019979, Equity: 17363.59708019979, PnL: 7363.59708019979
2026-01-07 22:18:06,731 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:06,736 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:06,742 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:06,766 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:06,768 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:06,773 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:06,774 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:06,936 - root - INFO - DEBUG: Test 2 (stop_loss=0.005) -> Return: -0.5797583486361507, Equity: 4202.416513638493, PnL: -5797.583486361507
2026-01-07 22:18:06,966 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:06,970 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:06,975 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:07,001 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,003 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,008 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,009 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,156 - root - INFO - DEBUG: Test 3 (stop_loss=0.007) -> Return: -0.4093920303727472, Equity: 5906.079696272528, PnL: -4093.920303727472
2026-01-07 22:18:07,197 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:07,200 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:07,205 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:07,230 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,232 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,236 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,237 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,388 - root - INFO - DEBUG: Test 4 (stop_loss=0.009) -> Return: -0.5118924729634114, Equity: 4881.075270365885, PnL: -5118.924729634115
2026-01-07 22:18:07,442 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:07,445 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:07,450 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:07,476 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,477 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,481 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,483 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,641 - root - INFO - DEBUG: Test 5 (stop_loss=0.011) -> Return: -0.5725847912554946, Equity: 4274.152087445054, PnL: -5725.847912554946
2026-01-07 22:18:07,739 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:07,742 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:07,746 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:07,769 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,771 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,777 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:07,778 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:07,936 - root - INFO - DEBUG: Test 6 (stop_loss=0.013) -> Return: -0.6082164521096102, Equity: 3917.835478903899, PnL: -6082.164521096101
2026-01-07 22:18:08,013 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:08,017 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:08,022 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:08,115 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,116 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,120 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,121 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,266 - root - INFO - DEBUG: Test 7 (stop_loss=0.015) -> Return: -0.35758819841330425, Equity: 6424.118015866958, PnL: -3575.8819841330424
2026-01-07 22:18:08,362 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:08,365 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:08,370 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:08,396 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,397 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,402 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,403 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,564 - root - INFO - DEBUG: Test 8 (stop_loss=0.017) -> Return: -0.32492513455667466, Equity: 6750.748654433253, PnL: -3249.2513455667467
2026-01-07 22:18:08,707 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:08,711 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:08,716 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:08,749 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,751 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,757 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:08,760 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:08,971 - root - INFO - DEBUG: Test 9 (stop_loss=0.019) -> Return: -0.3664000085460446, Equity: 6335.999914539554, PnL: -3664.000085460446
2026-01-07 22:18:09,103 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:09,107 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:09,111 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:09,136 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,138 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:09,142 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,144 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:09,337 - root - INFO - DEBUG: Test 10 (stop_loss=0.021) -> Return: -0.1048963296071699, Equity: 8951.036703928301, PnL: -1048.963296071699
2026-01-07 22:18:09,533 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:09,536 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:09,541 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:09,565 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,567 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:09,571 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,572 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:09,774 - root - INFO - DEBUG: Test 11 (stop_loss=0.023) -> Return: -0.09283810928837047, Equity: 9071.618907116295, PnL: -928.3810928837047
2026-01-07 22:18:09,941 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:09,944 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:09,949 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:09,971 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,972 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:09,977 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:09,978 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:10,153 - root - INFO - DEBUG: Test 12 (stop_loss=0.025) -> Return: -0.31424818788817466, Equity: 6857.5181211182535, PnL: -3142.4818788817465
2026-01-07 22:18:10,411 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:10,414 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:10,418 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:10,447 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:10,449 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:10,453 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:10,455 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:10,640 - root - INFO - DEBUG: Test 13 (stop_loss=0.027) -> Return: -0.3586935717356386, Equity: 6413.064282643614, PnL: -3586.935717356386
2026-01-07 22:18:10,835 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:10,839 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:10,844 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:10,876 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:10,878 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:10,883 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:10,885 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:11,085 - root - INFO - DEBUG: Test 14 (stop_loss=0.029) -> Return: -0.5044930175162488, Equity: 4955.069824837513, PnL: -5044.930175162487
2026-01-07 22:18:11,327 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:11,330 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:11,336 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:11,364 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:11,366 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:11,371 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:11,372 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:11,555 - root - INFO - DEBUG: Test 15 (stop_loss=0.031) -> Return: -0.4714896478615912, Equity: 5285.103521384088, PnL: -4714.896478615912
2026-01-07 22:18:11,808 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:11,812 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:11,818 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:11,853 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:11,854 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:11,859 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:11,861 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:12,052 - root - INFO - DEBUG: Test 16 (stop_loss=0.033) -> Return: -0.4813068191597233, Equity: 5186.931808402767, PnL: -4813.068191597233
2026-01-07 22:18:12,270 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:12,273 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:12,278 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:12,303 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:12,304 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:12,309 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:12,311 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:12,492 - root - INFO - DEBUG: Test 17 (stop_loss=0.035) -> Return: -0.5530304744306732, Equity: 4469.695255693268, PnL: -5530.304744306732
2026-01-07 22:18:12,744 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:12,748 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:12,752 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:12,784 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:12,785 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:12,790 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:12,791 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:12,979 - root - INFO - DEBUG: Test 18 (stop_loss=0.037) -> Return: -0.6024046357177522, Equity: 3975.9536428224787, PnL: -6024.046357177522
2026-01-07 22:18:13,235 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:13,239 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:13,243 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:13,270 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:13,271 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:13,276 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:13,277 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:13,454 - root - INFO - DEBUG: Test 19 (stop_loss=0.039) -> Return: -0.5858219263689637, Equity: 4141.780736310363, PnL: -5858.219263689637
2026-01-07 22:18:13,829 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:13,835 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:13,841 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:13,880 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:13,881 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:13,886 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:13,888 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:14,101 - root - INFO - DEBUG: Test 20 (stop_loss=0.041) -> Return: -0.6593538770225443, Equity: 3406.461229774557, PnL: -6593.538770225443
2026-01-07 22:18:14,385 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:14,389 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:14,393 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:14,421 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:14,422 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:14,426 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:14,427 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:14,601 - root - INFO - DEBUG: Test 21 (stop_loss=0.043) -> Return: -0.5250017914128532, Equity: 4749.982085871468, PnL: -5250.017914128532
2026-01-07 22:18:14,903 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:14,906 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:14,910 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:14,936 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:14,938 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:14,942 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:14,943 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:15,220 - root - INFO - DEBUG: Test 22 (stop_loss=0.045) -> Return: -0.6102727857093229, Equity: 3897.2721429067715, PnL: -6102.7278570932285
2026-01-07 22:18:15,568 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:15,572 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:15,578 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:15,613 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:15,615 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:15,624 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:15,625 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:15,891 - root - INFO - DEBUG: Test 23 (stop_loss=0.047) -> Return: -0.6274943983236284, Equity: 3725.0560167637154, PnL: -6274.943983236284
2026-01-07 22:18:16,216 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:16,219 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:16,224 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:16,246 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:16,248 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:16,252 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:16,253 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:16,433 - root - INFO - DEBUG: Test 24 (stop_loss=0.049) -> Return: -0.6745787836299383, Equity: 3254.212163700617, PnL: -6745.787836299383
2026-01-07 22:18:16,756 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:16,760 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:16,765 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:16,798 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:16,799 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:16,806 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:16,807 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:17,012 - root - INFO - DEBUG: Test 25 (stop_loss=0.051) -> Return: -0.448864824827461, Equity: 5511.35175172539, PnL: -4488.64824827461
2026-01-07 22:18:17,339 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:17,343 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:17,348 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:17,376 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:17,377 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:17,382 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:17,383 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:17,581 - root - INFO - DEBUG: Test 26 (stop_loss=0.053) -> Return: -0.4891520062845646, Equity: 5108.479937154354, PnL: -4891.520062845646
2026-01-07 22:18:17,922 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:17,926 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:17,930 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:17,951 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:17,953 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:17,959 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:17,960 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:18,170 - root - INFO - DEBUG: Test 27 (stop_loss=0.055) -> Return: -0.42907251480119724, Equity: 5709.274851988028, PnL: -4290.725148011972
2026-01-07 22:18:18,604 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:18,609 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:18,616 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:18,657 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:18,659 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:18,664 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:18,665 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:18,891 - root - INFO - DEBUG: Test 28 (stop_loss=0.057) -> Return: -0.6372596676891864, Equity: 3627.403323108136, PnL: -6372.596676891864
2026-01-07 22:18:19,347 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:19,353 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:19,361 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:19,413 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:19,416 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:19,427 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:19,430 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:19,905 - root - INFO - DEBUG: Test 29 (stop_loss=0.059) -> Return: -0.5998816794855546, Equity: 4001.183205144454, PnL: -5998.816794855546
2026-01-07 22:18:21,146 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:21,155 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:21,165 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:21,212 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:21,214 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:21,222 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:21,223 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:21,451 - root - INFO - DEBUG: Test 30 (stop_loss=0.061) -> Return: -0.6573576783138304, Equity: 3426.423216861697, PnL: -6573.576783138304
2026-01-07 22:18:22,069 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:22,075 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:22,085 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:22,160 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:22,163 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:22,176 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:22,179 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:22,775 - root - INFO - DEBUG: Test 31 (stop_loss=0.063) -> Return: -0.6804333710683197, Equity: 3195.6662893168036, PnL: -6804.333710683197
2026-01-07 22:18:23,902 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:23,909 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:23,924 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:23,977 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:23,979 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:23,987 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:23,990 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:24,236 - root - INFO - DEBUG: Test 32 (stop_loss=0.065) -> Return: 0.03536155233453301, Equity: 10353.61552334533, PnL: 353.6155233453301
2026-01-07 22:18:24,683 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:24,688 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:24,693 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:24,723 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:24,725 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:24,729 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:24,731 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:24,907 - root - INFO - DEBUG: Test 33 (stop_loss=0.067) -> Return: 0.2866482017973549, Equity: 12866.482017973549, PnL: 2866.482017973549
2026-01-07 22:18:25,279 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:25,282 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:25,286 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:25,308 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:25,309 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:25,313 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:25,314 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:25,496 - root - INFO - DEBUG: Test 34 (stop_loss=0.069) -> Return: 0.41756747176887654, Equity: 14175.674717688766, PnL: 4175.674717688766
2026-01-07 22:18:25,855 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:25,858 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:25,862 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:25,887 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:25,888 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:25,891 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:25,893 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:26,060 - root - INFO - DEBUG: Test 35 (stop_loss=0.071) -> Return: 0.31228743605362436, Equity: 13122.874360536243, PnL: 3122.8743605362433
2026-01-07 22:18:26,465 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:26,469 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:26,474 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:26,502 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:26,503 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:26,509 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:26,511 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:26,774 - root - INFO - DEBUG: Test 36 (stop_loss=0.073) -> Return: 0.17146587720024162, Equity: 11714.658772002416, PnL: 1714.6587720024163
2026-01-07 22:18:27,476 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:27,482 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:27,492 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:27,546 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:27,548 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:27,559 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:27,562 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:28,244 - root - INFO - DEBUG: Test 37 (stop_loss=0.075) -> Return: -0.1724028963692639, Equity: 8275.971036307361, PnL: -1724.028963692639
2026-01-07 22:18:29,532 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:29,545 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:29,559 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:29,639 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:29,643 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:29,657 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:29,662 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:30,300 - root - INFO - DEBUG: Test 38 (stop_loss=0.077) -> Return: -0.25905677288067247, Equity: 7409.4322711932755, PnL: -2590.5677288067245
2026-01-07 22:18:32,129 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:32,140 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:32,155 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:32,236 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:32,242 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:32,257 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:32,261 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:34,050 - root - INFO - DEBUG: Test 39 (stop_loss=0.079) -> Return: -0.004891766218818157, Equity: 9951.082337811818, PnL: -48.917662188181566
2026-01-07 22:18:36,472 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:36,479 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:36,493 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:36,569 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:36,574 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:36,585 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:36,589 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:37,314 - root - INFO - DEBUG: Test 40 (stop_loss=0.081) -> Return: -0.012941209719482503, Equity: 9870.587902805175, PnL: -129.41209719482504
2026-01-07 22:18:39,146 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:39,151 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:39,159 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:39,204 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:39,205 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:39,213 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:39,215 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:39,487 - root - INFO - DEBUG: Test 41 (stop_loss=0.083) -> Return: -0.07912808101440169, Equity: 9208.719189855983, PnL: -791.2808101440169
2026-01-07 22:18:40,092 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:40,097 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:40,102 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:40,131 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:40,132 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:40,136 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:40,138 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:40,381 - root - INFO - DEBUG: Test 42 (stop_loss=0.085) -> Return: -0.06046285724807058, Equity: 9395.371427519294, PnL: -604.6285724807058
2026-01-07 22:18:41,040 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:41,047 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:41,052 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:41,151 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:41,196 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:41,204 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:41,208 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:41,475 - root - INFO - DEBUG: Test 43 (stop_loss=0.087) -> Return: -0.04478640149153889, Equity: 9552.135985084611, PnL: -447.8640149153889
2026-01-07 22:18:42,102 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:42,106 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:42,111 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:42,142 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:42,143 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:42,148 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:42,150 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:42,344 - root - INFO - DEBUG: Test 44 (stop_loss=0.089) -> Return: 0.09288800135169549, Equity: 10928.880013516955, PnL: 928.8800135169549
2026-01-07 22:18:42,817 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:42,819 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:42,823 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:42,848 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:42,850 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:42,857 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:42,858 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:43,055 - root - INFO - DEBUG: Test 45 (stop_loss=0.091) -> Return: 0.02709296497741161, Equity: 10270.929649774116, PnL: 270.9296497741161
2026-01-07 22:18:43,579 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:43,582 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:43,585 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:43,607 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:43,608 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:43,612 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:43,613 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:43,804 - root - INFO - DEBUG: Test 46 (stop_loss=0.093) -> Return: -0.11624352090012344, Equity: 8837.564790998766, PnL: -1162.4352090012344
2026-01-07 22:18:44,236 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:44,239 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:44,243 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:44,266 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:44,267 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:44,271 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:44,272 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:44,444 - root - INFO - DEBUG: Test 47 (stop_loss=0.095) -> Return: 0.2618597165255351, Equity: 12618.59716525535, PnL: 2618.597165255351
2026-01-07 22:18:44,931 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:44,936 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:44,950 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:44,985 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:44,986 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:44,991 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:44,992 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:45,172 - root - INFO - DEBUG: Test 48 (stop_loss=0.097) -> Return: 0.18984006464541597, Equity: 11898.40064645416, PnL: 1898.4006464541599
2026-01-07 22:18:45,708 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:45,712 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:45,716 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:45,741 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:45,743 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:45,747 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:45,747 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:45,949 - root - INFO - DEBUG: Test 49 (stop_loss=0.099) -> Return: 0.29135825892376904, Equity: 12913.58258923769, PnL: 2913.5825892376906
2026-01-07 22:18:46,493 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:46,497 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:46,501 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:46,525 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:46,526 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:46,530 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:46,532 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:46,725 - root - INFO - DEBUG: Test 50 (stop_loss=0.101) -> Return: 0.5026093686001756, Equity: 15026.093686001755, PnL: 5026.0936860017555
2026-01-07 22:18:47,427 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:47,432 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:47,437 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:47,469 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:47,470 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:47,476 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:47,477 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:47,701 - root - INFO - DEBUG: Test 51 (stop_loss=0.103) -> Return: 0.32242554865213624, Equity: 13224.255486521362, PnL: 3224.2554865213624
2026-01-07 22:18:48,249 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:48,253 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:48,258 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:48,284 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:48,285 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:48,293 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:48,294 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:48,483 - root - INFO - DEBUG: Test 52 (stop_loss=0.105) -> Return: 0.16352019497181028, Equity: 11635.201949718103, PnL: 1635.2019497181027
2026-01-07 22:18:48,964 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:48,966 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:48,970 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:48,989 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:48,990 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:48,995 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:48,996 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:49,271 - root - INFO - DEBUG: Test 53 (stop_loss=0.107) -> Return: 0.4186220399304673, Equity: 14186.220399304673, PnL: 4186.220399304673
2026-01-07 22:18:49,936 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:49,938 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:49,942 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:49,965 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:49,966 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:49,970 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:49,971 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:50,138 - root - INFO - DEBUG: Test 54 (stop_loss=0.109) -> Return: 0.2557736156462681, Equity: 12557.73615646268, PnL: 2557.736156462681
2026-01-07 22:18:50,659 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:50,662 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:50,666 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:50,689 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:50,690 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:50,694 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:50,696 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:50,881 - root - INFO - DEBUG: Test 55 (stop_loss=0.111) -> Return: 0.2601733858399097, Equity: 12601.733858399097, PnL: 2601.733858399097
2026-01-07 22:18:51,427 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:51,430 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:51,433 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:51,458 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:51,459 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:51,463 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:51,464 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:51,636 - root - INFO - DEBUG: Test 56 (stop_loss=0.113) -> Return: 0.18807602890532052, Equity: 11880.760289053205, PnL: 1880.7602890532053
2026-01-07 22:18:52,232 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:52,236 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:52,240 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:52,270 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:52,271 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:52,277 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:52,279 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:52,499 - root - INFO - DEBUG: Test 57 (stop_loss=0.115) -> Return: 0.05553555042791468, Equity: 10555.355504279147, PnL: 555.3555042791468
2026-01-07 22:18:52,993 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:52,997 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:53,001 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:53,024 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:53,025 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:53,028 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:53,029 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:53,203 - root - INFO - DEBUG: Test 58 (stop_loss=0.117) -> Return: 0.49964133138654526, Equity: 14996.413313865452, PnL: 4996.413313865452
2026-01-07 22:18:53,709 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:53,713 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:53,717 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:53,739 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:53,740 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:53,745 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:53,746 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:53,915 - root - INFO - DEBUG: Test 59 (stop_loss=0.119) -> Return: 0.6027864368217976, Equity: 16027.864368217975, PnL: 6027.864368217975
2026-01-07 22:18:54,579 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:54,582 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:54,586 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:54,611 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:54,613 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:54,619 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:54,620 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:54,803 - root - INFO - DEBUG: Test 60 (stop_loss=0.121) -> Return: 0.4389212891248702, Equity: 14389.212891248702, PnL: 4389.212891248702
2026-01-07 22:18:55,379 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:55,383 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:55,387 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:55,409 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:55,410 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:55,415 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:55,416 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:55,601 - root - INFO - DEBUG: Test 61 (stop_loss=0.123) -> Return: 0.29149562725194555, Equity: 12914.956272519456, PnL: 2914.9562725194555
2026-01-07 22:18:56,186 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:56,189 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:56,193 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:56,216 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:56,217 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:56,221 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:56,222 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:56,400 - root - INFO - DEBUG: Test 62 (stop_loss=0.125) -> Return: 0.24619478268642087, Equity: 12461.947826864209, PnL: 2461.9478268642088
2026-01-07 22:18:56,994 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:56,997 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:57,001 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:57,028 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:57,029 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:57,035 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:57,036 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:57,240 - root - INFO - DEBUG: Test 63 (stop_loss=0.127) -> Return: 0.1755001041566533, Equity: 11755.001041566533, PnL: 1755.0010415665329
2026-01-07 22:18:57,931 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:18:57,935 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:18:57,939 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:18:57,965 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:57,966 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:57,971 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:18:57,973 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:18:58,145 - root - INFO - DEBUG: Test 64 (stop_loss=0.129) -> Return: 0.35605870879765206, Equity: 13560.58708797652, PnL: 3560.5870879765207
 Stage 1 complete: stop_loss = 0.0
 DEBUG: stage_result keys: dict_keys(['stage_num', 'stage_name', 'parameter', 'results', 'best_value', 'best_result'])
 DEBUG: stage['parameter']: stop_loss
 DEBUG: Number of results: 64
 DEBUG: Result 0 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 0 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.0 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.736359708019979), 'total_pnl_pct': np.float64(0.736359708019979), 'total_pnl': np.float64(7363.59708019979), 'max_drawdown_pct': np.float64(-0.8122585304429123), 'max_drawdown': np.float64(-0.8122585304429123), 'cagr': np.float64(0.06803471514019721), 'num_trades': 85, 'total_trades': 85, 'win_rate': 0.7058823529411765, 'profit_factor': np.float64(1.238294107884464), 'avg_trade_return': np.float64(86.63055388470329), 'sharpe': np.float64(0.24715700987911152), 'sharpe_ratio': np.float64(0.24715700987911152), 'final_equity': np.float64(17363.59708019979), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.012650702527556007), 'avg_drawdown': np.float64(0.4225596571772415), 'max_dd_duration_days': 2550, 'recovery_factor': np.float64(-0.906558294461313), 'sortino_ratio': np.float64(0.28266621955889154), 'calmar_ratio': np.float64(0.08375992690787613), 'expectancy': np.float64(86.63055388470332), 'max_consecutive_wins': 13, 'max_consecutive_losses': 3, 'trade_concentration_top_10_pct': np.float64(0.3850780597512765), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.36900426741690073), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 1, 'wins': 0, 'losses': 1, 'pnl': np.float64(-85.23337893387531), 'win_rate': 0.0}, 'Bear': {'count': 63, 'wins': 46, 'losses': 17, 'pnl': np.float64(4747.800906793886), 'win_rate': 73.01587301587301}, 'Bull': {'count': 21, 'wins': 14, 'losses': 7, 'pnl': np.float64(2701.029552339773), 'win_rate': 66.66666666666666}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.25 < 0.8', 'CAGR no supera Buy & Hold: 6.8%  43.7%', 'Calmar Ratio baixo: 0.08 < 1.0', 'Profit Factor baixo: 1.24 < 1.3', 'Poucos trades para validao estatstica: 85 < 100'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.0, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 85 trades
 DEBUG: First trade sample: {'entry_time': '2025-10-30T20:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(108377.04144), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.18853551643213426), 'pnl_gross': np.float64(-3258.7497647462496), 'pnl': np.float64(-3296.3568579360576), 'pnl_pct': np.float64(-0.1613257732919802), 'commission': np.float64(37.60709318980818), 'initial_capital': np.float64(20659.953938135848), 'final_capital': np.float64(17363.59708019979)}
 DEBUG: Result 1 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 1 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.005 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5797583486361507), 'total_pnl_pct': np.float64(-0.5797583486361507), 'total_pnl': np.float64(-5797.583486361507), 'max_drawdown_pct': np.float64(-0.6886495907137068), 'max_drawdown': np.float64(-0.6886495907137068), 'cagr': np.float64(-0.09879498063176595), 'num_trades': 278, 'total_trades': 278, 'win_rate': 0.03597122302158273, 'profit_factor': np.float64(0.595676247555882), 'avg_trade_return': np.float64(-20.85461685741543), 'sharpe': np.float64(-0.5855043506176958), 'sharpe_ratio': np.float64(-0.5855043506176958), 'final_equity': np.float64(4202.416513638493), 'duration_days': 3044, 'monthly_return_avg': np.float64(-0.00771162560051183), 'avg_drawdown': np.float64(0.4898435982357752), 'max_dd_duration_days': 2828, 'recovery_factor': np.float64(0.8418771410802659), 'sortino_ratio': np.float64(-1.4669478974865675), 'calmar_ratio': np.float64(-0.1434619027789971), 'expectancy': np.float64(-20.85461685741543), 'max_consecutive_wins': 1, 'max_consecutive_losses': 79, 'trade_concentration_top_10_pct': np.float64(1.0), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5358339631888639), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-293.10895948714153), 'win_rate': 0.0}, 'Bear': {'count': 238, 'wins': 9, 'losses': 229, 'pnl': np.float64(-4079.121727408156), 'win_rate': 3.7815126050420167}, 'Bull': {'count': 36, 'wins': 1, 'losses': 35, 'pnl': np.float64(-1425.3527994661933), 'win_rate': 2.7777777777777777}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.59 < 0.8', 'CAGR no supera Buy & Hold: -9.9%  43.7%', 'Calmar Ratio baixo: -0.14 < 1.0', 'Profit Factor baixo: 0.60 < 1.3', 'Expectancy negativa ou zero: $-20.85'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.005, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 278 trades
 DEBUG: First trade sample: {'entry_time': '2025-12-16T04:00:00.000000000', 'exit_time': '2025-12-17T16:00:00.000000000', 'side': 'long', 'reason': 'Stop Loss', 'entry_price': np.float64(86064.52075499999), 'exit_price': np.float64(85591.38105214939), 'size': np.float64(0.048652595978630905), 'pnl_gross': np.float64(-23.019474804239895), 'pnl': np.float64(-31.37098004221067), 'pnl_pct': np.float64(-0.007492002499999897), 'commission': np.float64(8.351505237970777), 'initial_capital': np.float64(4233.787493680703), 'final_capital': np.float64(4202.416513638493)}
 DEBUG: Result 2 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 2 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.007 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.4093920303727472), 'total_pnl_pct': np.float64(-0.4093920303727472), 'total_pnl': np.float64(-4093.920303727472), 'max_drawdown_pct': np.float64(-0.6453715865561542), 'max_drawdown': np.float64(-0.6453715865561542), 'cagr': np.float64(-0.061232231231852174), 'num_trades': 275, 'total_trades': 275, 'win_rate': 0.06909090909090909, 'profit_factor': np.float64(0.7732187969967512), 'avg_trade_return': np.float64(-14.886982922645359), 'sharpe': np.float64(-0.35557240156437786), 'sharpe_ratio': np.float64(-0.35557240156437786), 'final_equity': np.float64(5906.079696272528), 'duration_days': 3044, 'monthly_return_avg': np.float64(-0.0039370654037434605), 'avg_drawdown': np.float64(0.4419182366720915), 'max_dd_duration_days': 2828, 'recovery_factor': np.float64(0.6343508745982354), 'sortino_ratio': np.float64(-0.5250802814237906), 'calmar_ratio': np.float64(-0.09487903171969644), 'expectancy': np.float64(-14.88698292264538), 'max_consecutive_wins': 2, 'max_consecutive_losses': 76, 'trade_concentration_top_10_pct': np.float64(0.7219004143616278), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4982712137889501), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-370.13774557324115), 'win_rate': 0.0}, 'Bear': {'count': 236, 'wins': 17, 'losses': 219, 'pnl': np.float64(-2499.874905799446), 'win_rate': 7.203389830508475}, 'Bull': {'count': 35, 'wins': 2, 'losses': 33, 'pnl': np.float64(-1223.9076523547888), 'win_rate': 5.714285714285714}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.36 < 0.8', 'CAGR no supera Buy & Hold: -6.1%  43.7%', 'Calmar Ratio baixo: -0.09 < 1.0', 'Profit Factor baixo: 0.77 < 1.3', 'Expectancy negativa ou zero: $-14.89'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.007, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 275 trades
 DEBUG: First trade sample: {'entry_time': '2025-12-16T04:00:00.000000000', 'exit_time': '2025-12-17T16:00:00.000000000', 'side': 'long', 'reason': 'Stop Loss', 'entry_price': np.float64(86064.52075499999), 'exit_price': np.float64(85419.33807516014), 'size': np.float64(0.06851272583433334), 'pnl_gross': np.float64(-44.20322405692839), 'pnl': np.float64(-55.95205066197268), 'pnl_pct': np.float64(-0.009489003499999963), 'commission': np.float64(11.748826605044282), 'initial_capital': np.float64(5962.031746934501), 'final_capital': np.float64(5906.079696272528)}
 DEBUG: Result 3 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 3 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.009 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5118924729634114), 'total_pnl_pct': np.float64(-0.5118924729634114), 'total_pnl': np.float64(-5118.924729634115), 'max_drawdown_pct': np.float64(-0.687293702625481), 'max_drawdown': np.float64(-0.687293702625481), 'cagr': np.float64(-0.08243422807502099), 'num_trades': 272, 'total_trades': 272, 'win_rate': 0.08455882352941177, 'profit_factor': np.float64(0.7325514112008026), 'avg_trade_return': np.float64(-18.81957621189011), 'sharpe': np.float64(-0.4600730971468476), 'sharpe_ratio': np.float64(-0.4600730971468476), 'final_equity': np.float64(4881.075270365885), 'duration_days': 3045, 'monthly_return_avg': np.float64(-0.005749365070675021), 'avg_drawdown': np.float64(0.492552206601634), 'max_dd_duration_days': 2829, 'recovery_factor': np.float64(0.7447943593953619), 'sortino_ratio': np.float64(-0.5666757522637419), 'calmar_ratio': np.float64(-0.11994032210701183), 'expectancy': np.float64(-18.819576211890116), 'max_consecutive_wins': 2, 'max_consecutive_losses': 76, 'trade_concentration_top_10_pct': np.float64(0.6716982075279494), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5194732106321189), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-446.7071746261628), 'win_rate': 0.0}, 'Bear': {'count': 233, 'wins': 21, 'losses': 212, 'pnl': np.float64(-3056.1039345652475), 'win_rate': 9.012875536480687}, 'Bull': {'count': 35, 'wins': 2, 'losses': 33, 'pnl': np.float64(-1616.113620442698), 'win_rate': 5.714285714285714}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.46 < 0.8', 'CAGR no supera Buy & Hold: -8.2%  43.7%', 'Calmar Ratio baixo: -0.12 < 1.0', 'Profit Factor baixo: 0.73 < 1.3', 'Expectancy negativa ou zero: $-18.82'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.009, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 272 trades
 DEBUG: First trade sample: {'entry_time': '2025-12-16T04:00:00.000000000', 'exit_time': '2025-12-18T16:00:00.000000000', 'side': 'long', 'reason': 'Stop Loss', 'entry_price': np.float64(86064.52075499999), 'exit_price': np.float64(85247.29509817089), 'size': np.float64(0.05673540962813063), 'pnl_gross': np.float64(-46.36563239881738), 'pnl': np.float64(-56.08507844538592), 'pnl_pct': np.float64(-0.01148600450000003), 'commission': np.float64(9.719446046568532), 'initial_capital': np.float64(4937.160348811271), 'final_capital': np.float64(4881.075270365885)}
 DEBUG: Result 4 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 4 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.011 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5725847912554946), 'total_pnl_pct': np.float64(-0.5725847912554946), 'total_pnl': np.float64(-5725.847912554946), 'max_drawdown_pct': np.float64(-0.7712214216459528), 'max_drawdown': np.float64(-0.7712214216459528), 'cagr': np.float64(-0.09642122745875648), 'num_trades': 263, 'total_trades': 263, 'win_rate': 0.09505703422053231, 'profit_factor': np.float64(0.6799632209975031), 'avg_trade_return': np.float64(-21.771284838611955), 'sharpe': np.float64(-0.5688536158473978), 'sharpe_ratio': np.float64(-0.5688536158473978), 'final_equity': np.float64(4274.152087445054), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.006795430936412315), 'avg_drawdown': np.float64(0.5821728794006596), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.742438909481372), 'sortino_ratio': np.float64(-0.5810543436012666), 'calmar_ratio': np.float64(-0.12502405243486728), 'expectancy': np.float64(-21.771284838611948), 'max_consecutive_wins': 2, 'max_consecutive_losses': 76, 'trade_concentration_top_10_pct': np.float64(0.6634869902734666), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5334602100158544), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-522.8190765203898), 'win_rate': 0.0}, 'Bear': {'count': 225, 'wins': 23, 'losses': 202, 'pnl': np.float64(-3472.0534936670465), 'win_rate': 10.222222222222223}, 'Bull': {'count': 34, 'wins': 2, 'losses': 32, 'pnl': np.float64(-1730.9753423675058), 'win_rate': 5.88235294117647}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.57 < 0.8', 'CAGR no supera Buy & Hold: -9.6%  43.7%', 'Calmar Ratio baixo: -0.13 < 1.0', 'Profit Factor baixo: 0.68 < 1.3', 'Expectancy negativa ou zero: $-21.77'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.011, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 263 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04653238198634628), 'pnl_gross': np.float64(318.3325069349667), 'pnl': np.float64(310.1733373399117), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(8.15916959505503), 'initial_capital': np.float64(3963.978750105142), 'final_capital': np.float64(4274.152087445054)}
 DEBUG: Result 5 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 5 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.013 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6082164521096102), 'total_pnl_pct': np.float64(-0.6082164521096102), 'total_pnl': np.float64(-6082.164521096101), 'max_drawdown_pct': np.float64(-0.8198154374266559), 'max_drawdown': np.float64(-0.8198154374266559), 'cagr': np.float64(-0.10575482737375508), 'num_trades': 262, 'total_trades': 262, 'win_rate': 0.11068702290076336, 'profit_factor': np.float64(0.669373373662462), 'avg_trade_return': np.float64(-23.21436840113013), 'sharpe': np.float64(-0.6159080528493673), 'sharpe_ratio': np.float64(-0.6159080528493673), 'final_equity': np.float64(3917.835478903899), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.007313242990543042), 'avg_drawdown': np.float64(0.6178639968774615), 'max_dd_duration_days': 2970, 'recovery_factor': np.float64(0.7418943634664402), 'sortino_ratio': np.float64(-0.5679543848042611), 'calmar_ratio': np.float64(-0.12899833614467202), 'expectancy': np.float64(-23.21436840113013), 'max_consecutive_wins': 3, 'max_consecutive_losses': 76, 'trade_concentration_top_10_pct': np.float64(0.6155294641288555), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.542793809930853), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-598.4752774784318), 'win_rate': 0.0}, 'Bear': {'count': 224, 'wins': 25, 'losses': 199, 'pnl': np.float64(-4073.8470466036183), 'win_rate': 11.160714285714286}, 'Bull': {'count': 34, 'wins': 4, 'losses': 30, 'pnl': np.float64(-1409.8421970140462), 'win_rate': 11.76470588235294}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.62 < 0.8', 'CAGR no supera Buy & Hold: -10.6%  43.7%', 'Calmar Ratio baixo: -0.13 < 1.0', 'Profit Factor baixo: 0.67 < 1.3', 'Expectancy negativa ou zero: $-23.21'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.013, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 262 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04265318906164445), 'pnl_gross': np.float64(291.7945745126149), 'pnl': np.float64(284.3155977556111), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.4789767570037355), 'initial_capital': np.float64(3633.519881148288), 'final_capital': np.float64(3917.835478903899)}
 DEBUG: Result 6 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 6 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.015 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.35758819841330425), 'total_pnl_pct': np.float64(-0.35758819841330425), 'total_pnl': np.float64(-3575.8819841330424), 'max_drawdown_pct': np.float64(-0.6846467019328473), 'max_drawdown': np.float64(-0.6846467019328473), 'cagr': np.float64(-0.05141756902432282), 'num_trades': 258, 'total_trades': 258, 'win_rate': 0.13565891472868216, 'profit_factor': np.float64(0.8453487665084588), 'avg_trade_return': np.float64(-13.86000769043808), 'sharpe': np.float64(-0.28694813702104077), 'sharpe_ratio': np.float64(-0.28694813702104077), 'final_equity': np.float64(6424.118015866958), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0019248480330167734), 'avg_drawdown': np.float64(0.5162723243591493), 'max_dd_duration_days': 2970, 'recovery_factor': np.float64(0.5222959482661437), 'sortino_ratio': np.float64(-0.1501320318165564), 'calmar_ratio': np.float64(-0.07510087886082602), 'expectancy': np.float64(-13.860007690438081), 'max_consecutive_wins': 2, 'max_consecutive_losses': 35, 'trade_concentration_top_10_pct': np.float64(0.5059365034467695), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.48845655158142076), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-673.6776000708053), 'win_rate': 0.0}, 'Bear': {'count': 222, 'wins': 31, 'losses': 191, 'pnl': np.float64(-1215.7451181752597), 'win_rate': 13.963963963963963}, 'Bull': {'count': 32, 'wins': 4, 'losses': 28, 'pnl': np.float64(-1686.4592658869594), 'win_rate': 12.5}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.29 < 0.8', 'CAGR no supera Buy & Hold: -5.1%  43.7%', 'Calmar Ratio baixo: -0.08 < 1.0', 'Profit Factor baixo: 0.85 < 1.3', 'Expectancy negativa ou zero: $-13.86'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.015, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 258 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.0699389042139538), 'pnl_gross': np.float64(478.4587798932185), 'pnl': np.float64(466.19541927391043), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(12.263360619308042), 'initial_capital': np.float64(5957.922596593048), 'final_capital': np.float64(6424.118015866958)}
 DEBUG: Result 7 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 7 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.017 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.32492513455667466), 'total_pnl_pct': np.float64(-0.32492513455667466), 'total_pnl': np.float64(-3249.2513455667467), 'max_drawdown_pct': np.float64(-0.7081856249731766), 'max_drawdown': np.float64(-0.7081856249731766), 'cagr': np.float64(-0.04578929750688088), 'num_trades': 255, 'total_trades': 255, 'win_rate': 0.1568627450980392, 'profit_factor': np.float64(0.8698391884177396), 'avg_trade_return': np.float64(-12.742162139477434), 'sharpe': np.float64(-0.25122846243675906), 'sharpe_ratio': np.float64(-0.25122846243675906), 'final_equity': np.float64(6750.748654433253), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.001332341510938602), 'avg_drawdown': np.float64(0.5004834665249166), 'max_dd_duration_days': 2970, 'recovery_factor': np.float64(0.4588135131505693), 'sortino_ratio': np.float64(-0.09268183453364072), 'calmar_ratio': np.float64(-0.06465719705707837), 'expectancy': np.float64(-12.742162139477443), 'max_consecutive_wins': 3, 'max_consecutive_losses': 35, 'trade_concentration_top_10_pct': np.float64(0.45662401846296335), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4828282800639788), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-748.4278632160372), 'win_rate': 0.0}, 'Bear': {'count': 219, 'wins': 36, 'losses': 183, 'pnl': np.float64(-505.8296543329799), 'win_rate': 16.43835616438356}, 'Bull': {'count': 32, 'wins': 4, 'losses': 28, 'pnl': np.float64(-1994.9938280177273), 'win_rate': 12.5}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.25 < 0.8', 'CAGR no supera Buy & Hold: -4.6%  43.7%', 'Calmar Ratio baixo: -0.06 < 1.0', 'Profit Factor baixo: 0.87 < 1.3', 'Expectancy negativa ou zero: $-12.74'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.017, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 255 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.07349490814906329), 'pnl_gross': np.float64(502.78574530982155), 'pnl': np.float64(489.8988610721491), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(12.886884237672449), 'initial_capital': np.float64(6260.849793361104), 'final_capital': np.float64(6750.748654433253)}
 DEBUG: Result 8 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 8 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.019 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.3664000085460446), 'total_pnl_pct': np.float64(-0.3664000085460446), 'total_pnl': np.float64(-3664.000085460446), 'max_drawdown_pct': np.float64(-0.7257140445441258), 'max_drawdown': np.float64(-0.7257140445441258), 'cagr': np.float64(-0.05297909693227609), 'num_trades': 253, 'total_trades': 253, 'win_rate': 0.16996047430830039, 'profit_factor': np.float64(0.8545898848917668), 'avg_trade_return': np.float64(-14.482213776523523), 'sharpe': np.float64(-0.2904070121723032), 'sharpe_ratio': np.float64(-0.2904070121723032), 'final_equity': np.float64(6335.999914539554), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0017303298852848648), 'avg_drawdown': np.float64(0.5319218377824261), 'max_dd_duration_days': 2970, 'recovery_factor': np.float64(0.504882069322783), 'sortino_ratio': np.float64(-0.11277254544590266), 'calmar_ratio': np.float64(-0.07300271688355728), 'expectancy': np.float64(-14.482213776523523), 'max_consecutive_wins': 3, 'max_consecutive_losses': 35, 'trade_concentration_top_10_pct': np.float64(0.4361669479995874), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.49001807948937404), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-822.7278821806913), 'win_rate': 0.0}, 'Bear': {'count': 217, 'wins': 38, 'losses': 179, 'pnl': np.float64(-1191.2686310012666), 'win_rate': 17.51152073732719}, 'Bull': {'count': 32, 'wins': 5, 'losses': 27, 'pnl': np.float64(-1650.0035722784926), 'win_rate': 15.625}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.29 < 0.8', 'CAGR no supera Buy & Hold: -5.3%  43.7%', 'Calmar Ratio baixo: -0.07 < 1.0', 'Profit Factor baixo: 0.85 < 1.3', 'Expectancy negativa ou zero: $-14.48'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.019, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 253 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.06897956887281728), 'pnl_gross': np.float64(471.8958744261202), 'pnl': np.float64(459.8007274123215), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(12.095147013798666), 'initial_capital': np.float64(5876.199187127231), 'final_capital': np.float64(6335.999914539554)}
 DEBUG: Result 9 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 9 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.021 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.1048963296071699), 'total_pnl_pct': np.float64(-0.1048963296071699), 'total_pnl': np.float64(-1048.963296071699), 'max_drawdown_pct': np.float64(-0.698771770635112), 'max_drawdown': np.float64(-0.698771770635112), 'cagr': np.float64(-0.01313164823742774), 'num_trades': 252, 'total_trades': 252, 'win_rate': 0.19047619047619047, 'profit_factor': np.float64(0.9722783264934993), 'avg_trade_return': np.float64(-4.162552762189266), 'sharpe': np.float64(-0.04775253049721285), 'sharpe_ratio': np.float64(-0.04775253049721285), 'final_equity': np.float64(8951.036703928301), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.0023971417807961276), 'avg_drawdown': np.float64(0.48698689728620853), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.15011529374151714), 'sortino_ratio': np.float64(0.10490713734111991), 'calmar_ratio': np.float64(-0.018792471003075035), 'expectancy': np.float64(-4.162552762189279), 'max_consecutive_wins': 3, 'max_consecutive_losses': 28, 'trade_concentration_top_10_pct': np.float64(0.46259620501476945), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4501706307945257), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-896.5794685793298), 'win_rate': 0.0}, 'Bear': {'count': 216, 'wins': 43, 'losses': 173, 'pnl': np.float64(2406.1087739942136), 'win_rate': 19.90740740740741}, 'Bull': {'count': 32, 'wins': 5, 'losses': 27, 'pnl': np.float64(-2558.4926014865814), 'win_rate': 15.625}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.05 < 0.8', 'CAGR no supera Buy & Hold: -1.3%  43.7%', 'Calmar Ratio baixo: -0.02 < 1.0', 'Profit Factor baixo: 0.97 < 1.3', 'Expectancy negativa ou zero: $-4.16'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.021, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 252 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.0974492836379099), 'pnl_gross': np.float64(666.6599351946969), 'pnl': np.float64(649.5727972022419), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(17.08713799245504), 'initial_capital': np.float64(8301.46390672606), 'final_capital': np.float64(8951.036703928301)}
 DEBUG: Result 10 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 10 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.023 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.09283810928837047), 'total_pnl_pct': np.float64(-0.09283810928837047), 'total_pnl': np.float64(-928.3810928837047), 'max_drawdown_pct': np.float64(-0.7152046207377204), 'max_drawdown': np.float64(-0.7152046207377204), 'cagr': np.float64(-0.011555156052818538), 'num_trades': 249, 'total_trades': 249, 'win_rate': 0.20481927710843373, 'profit_factor': np.float64(0.9770810564948711), 'avg_trade_return': np.float64(-3.7284381240309044), 'sharpe': np.float64(-0.04088822473689341), 'sharpe_ratio': np.float64(-0.04088822473689341), 'final_equity': np.float64(9071.618907116295), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.0028234409711760753), 'avg_drawdown': np.float64(0.46451895277052446), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.12980636113985064), 'sortino_ratio': np.float64(0.1130377668014535), 'calmar_ratio': np.float64(-0.016156433722281614), 'expectancy': np.float64(-3.7284381240309017), 'max_consecutive_wins': 3, 'max_consecutive_losses': 23, 'trade_concentration_top_10_pct': np.float64(0.44195811942294555), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4485941386099165), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-969.9844303745332), 'win_rate': 0.0}, 'Bear': {'count': 213, 'wins': 46, 'losses': 167, 'pnl': np.float64(3246.8287401054713), 'win_rate': 21.5962441314554}, 'Bull': {'count': 32, 'wins': 5, 'losses': 27, 'pnl': np.float64(-3205.2254026146347), 'win_rate': 15.625}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.04 < 0.8', 'CAGR no supera Buy & Hold: -1.2%  43.7%', 'Calmar Ratio baixo: -0.02 < 1.0', 'Profit Factor baixo: 0.98 < 1.3', 'Expectancy negativa ou zero: $-3.73'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.023, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 249 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.09876205328782027), 'pnl_gross': np.float64(675.6407188091425), 'pnl': np.float64(658.3233946590993), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(17.31732415004316), 'initial_capital': np.float64(8413.295512457196), 'final_capital': np.float64(9071.618907116295)}
 DEBUG: Result 11 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 11 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.025 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.31424818788817466), 'total_pnl_pct': np.float64(-0.31424818788817466), 'total_pnl': np.float64(-3142.4818788817465), 'max_drawdown_pct': np.float64(-0.7669396846748926), 'max_drawdown': np.float64(-0.7669396846748926), 'cagr': np.float64(-0.04400149716640245), 'num_trades': 246, 'total_trades': 246, 'win_rate': 0.21138211382113822, 'profit_factor': np.float64(0.9159633552517757), 'avg_trade_return': np.float64(-12.774316580820134), 'sharpe': np.float64(-0.15142618535249444), 'sharpe_ratio': np.float64(-0.15142618535249444), 'final_equity': np.float64(6857.5181211182535), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00018433103928120002), 'avg_drawdown': np.float64(0.5333765351001596), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.4097430269518328), 'sortino_ratio': np.float64(-0.005246794636101653), 'calmar_ratio': np.float64(-0.05737282611090177), 'expectancy': np.float64(-12.774316580820084), 'max_consecutive_wins': 5, 'max_consecutive_losses': 22, 'trade_concentration_top_10_pct': np.float64(0.4603850019665394), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4810404797235004), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1042.9445718769066), 'win_rate': 0.0}, 'Bear': {'count': 212, 'wins': 47, 'losses': 165, 'pnl': np.float64(858.2131703966481), 'win_rate': 22.169811320754718}, 'Bull': {'count': 30, 'wins': 5, 'losses': 25, 'pnl': np.float64(-2957.7504774014938), 'win_rate': 16.666666666666664}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.15 < 0.8', 'CAGR no supera Buy & Hold: -4.4%  43.7%', 'Calmar Ratio baixo: -0.06 < 1.0', 'Profit Factor baixo: 0.92 < 1.3', 'Expectancy negativa ou zero: $-12.77'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.025, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 246 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.07465729954427328), 'pnl_gross': np.float64(510.73777680018037), 'pnl': np.float64(497.64707431541854), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(13.090702484761838), 'initial_capital': np.float64(6359.871046802836), 'final_capital': np.float64(6857.5181211182535)}
 DEBUG: Result 12 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 12 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.027 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.3586935717356386), 'total_pnl_pct': np.float64(-0.3586935717356386), 'total_pnl': np.float64(-3586.935717356386), 'max_drawdown_pct': np.float64(-0.8024825009412373), 'max_drawdown': np.float64(-0.8024825009412373), 'cagr': np.float64(-0.05161241205734168), 'num_trades': 241, 'total_trades': 241, 'win_rate': 0.22406639004149378, 'profit_factor': np.float64(0.8987438652210878), 'avg_trade_return': np.float64(-14.88355069442481), 'sharpe': np.float64(-0.18157212758304378), 'sharpe_ratio': np.float64(-0.18157212758304378), 'final_equity': np.float64(6413.064282643614), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0003774168450036304), 'avg_drawdown': np.float64(0.5648439457316167), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.44697992954977134), 'sortino_ratio': np.float64(-0.016857382395535823), 'calmar_ratio': np.float64(-0.06431593461141535), 'expectancy': np.float64(-14.883550694424798), 'max_consecutive_wins': 5, 'max_consecutive_losses': 21, 'trade_concentration_top_10_pct': np.float64(0.4592847554102507), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4886513946144396), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1115.4616937450655), 'win_rate': 0.0}, 'Bear': {'count': 208, 'wins': 49, 'losses': 159, 'pnl': np.float64(584.0813887508755), 'win_rate': 23.557692307692307}, 'Bull': {'count': 29, 'wins': 5, 'losses': 24, 'pnl': np.float64(-3055.5554123621896), 'win_rate': 17.24137931034483}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.18 < 0.8', 'CAGR no supera Buy & Hold: -5.2%  43.7%', 'Calmar Ratio baixo: -0.06 < 1.0', 'Profit Factor baixo: 0.90 < 1.3', 'Expectancy negativa ou zero: $-14.88'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.027, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 241 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.06981856302669592), 'pnl_gross': np.float64(477.63551424052594), 'pnl': np.float64(465.393254714998), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(12.2422595255279), 'initial_capital': np.float64(5947.671027928616), 'final_capital': np.float64(6413.064282643614)}
 DEBUG: Result 13 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 13 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.029 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5044930175162488), 'total_pnl_pct': np.float64(-0.5044930175162488), 'total_pnl': np.float64(-5044.930175162487), 'max_drawdown_pct': np.float64(-0.8145726104896474), 'max_drawdown': np.float64(-0.8145726104896474), 'cagr': np.float64(-0.0803468143106133), 'num_trades': 236, 'total_trades': 236, 'win_rate': 0.2288135593220339, 'profit_factor': np.float64(0.8539892202445216), 'avg_trade_return': np.float64(-21.376822776112192), 'sharpe': np.float64(-0.2647309181615171), 'sharpe_ratio': np.float64(-0.2647309181615171), 'final_equity': np.float64(4955.069824837513), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.002766170799216326), 'avg_drawdown': np.float64(0.5942667689977208), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.6193346191851371), 'sortino_ratio': np.float64(-0.11253473363638727), 'calmar_ratio': np.float64(-0.09863677378289956), 'expectancy': np.float64(-21.37682277611222), 'max_consecutive_wins': 5, 'max_consecutive_losses': 20, 'trade_concentration_top_10_pct': np.float64(0.477164912596006), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5173857968677112), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1187.53759298564), 'win_rate': 0.0}, 'Bear': {'count': 204, 'wins': 49, 'losses': 155, 'pnl': np.float64(-701.7770122036359), 'win_rate': 24.019607843137255}, 'Bull': {'count': 28, 'wins': 5, 'losses': 23, 'pnl': np.float64(-3155.6155699732), 'win_rate': 17.857142857142858}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.26 < 0.8', 'CAGR no supera Buy & Hold: -8.0%  43.7%', 'Calmar Ratio baixo: -0.10 < 1.0', 'Profit Factor baixo: 0.85 < 1.3', 'Expectancy negativa ou zero: $-21.38'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.029, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 236 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.05394548372193861), 'pnl_gross': np.float64(369.04624990104764), 'pnl': np.float64(359.5872380949525), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(9.459011806095123), 'initial_capital': np.float64(4595.48258674256), 'final_capital': np.float64(4955.069824837513)}
 DEBUG: Result 14 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 14 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.031 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.4714896478615912), 'total_pnl_pct': np.float64(-0.4714896478615912), 'total_pnl': np.float64(-4714.896478615912), 'max_drawdown_pct': np.float64(-0.8214443830845137), 'max_drawdown': np.float64(-0.8214443830845137), 'cagr': np.float64(-0.07324594029932363), 'num_trades': 227, 'total_trades': 227, 'win_rate': 0.2422907488986784, 'profit_factor': np.float64(0.8617039435720485), 'avg_trade_return': np.float64(-20.770469068792536), 'sharpe': np.float64(-0.2506376593551069), 'sharpe_ratio': np.float64(-0.2506376593551069), 'final_equity': np.float64(5285.103521384088), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0019492318622957542), 'avg_drawdown': np.float64(0.5908559272630732), 'max_dd_duration_days': 2846, 'recovery_factor': np.float64(0.5739763489417912), 'sortino_ratio': np.float64(-0.07804585634790186), 'calmar_ratio': np.float64(-0.08916725442115267), 'expectancy': np.float64(-20.770469068792494), 'max_consecutive_wins': 5, 'max_consecutive_losses': 19, 'trade_concentration_top_10_pct': np.float64(0.4645033742041877), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5102849228564216), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1259.1740629532808), 'win_rate': 0.0}, 'Bear': {'count': 196, 'wins': 50, 'losses': 146, 'pnl': np.float64(-364.2201212785264), 'win_rate': 25.510204081632654}, 'Bull': {'count': 27, 'wins': 5, 'losses': 22, 'pnl': np.float64(-3091.5022943841), 'win_rate': 18.51851851851852}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.25 < 0.8', 'CAGR no supera Buy & Hold: -7.3%  43.7%', 'Calmar Ratio baixo: -0.09 < 1.0', 'Profit Factor baixo: 0.86 < 1.3', 'Expectancy negativa ou zero: $-20.77'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.031, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 227 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.057538536501034084), 'pnl_gross': np.float64(393.62667002771826), 'pnl': np.float64(383.53763831425573), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(10.089031713462553), 'initial_capital': np.float64(4901.565883069832), 'final_capital': np.float64(5285.103521384088)}
 DEBUG: Result 15 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 15 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.033 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.4813068191597233), 'total_pnl_pct': np.float64(-0.4813068191597233), 'total_pnl': np.float64(-4813.068191597233), 'max_drawdown_pct': np.float64(-0.8334028596020993), 'max_drawdown': np.float64(-0.8334028596020993), 'cagr': np.float64(-0.07531637696125437), 'num_trades': 218, 'total_trades': 218, 'win_rate': 0.25688073394495414, 'profit_factor': np.float64(0.8400652167640796), 'avg_trade_return': np.float64(-22.07829445686794), 'sharpe': np.float64(-0.2798913647920216), 'sharpe_ratio': np.float64(-0.2798913647920216), 'final_equity': np.float64(5186.931808402767), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0023451262252187324), 'avg_drawdown': np.float64(0.6321183920725084), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.5775199996188145), 'sortino_ratio': np.float64(-0.07777592096403554), 'calmar_ratio': np.float64(-0.09037211247056856), 'expectancy': np.float64(-22.07829445686791), 'max_consecutive_wins': 8, 'max_consecutive_losses': 23, 'trade_concentration_top_10_pct': np.float64(0.4625538612762203), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5123553595183523), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1330.3728933506527), 'win_rate': 0.0}, 'Bear': {'count': 187, 'wins': 51, 'losses': 136, 'pnl': np.float64(-486.0192354154414), 'win_rate': 27.27272727272727}, 'Bull': {'count': 27, 'wins': 5, 'losses': 22, 'pnl': np.float64(-2996.6760628311176), 'win_rate': 18.51851851851852}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.28 < 0.8', 'CAGR no supera Buy & Hold: -7.5%  43.7%', 'Calmar Ratio baixo: -0.09 < 1.0', 'Profit Factor baixo: 0.84 < 1.3', 'Expectancy negativa ou zero: $-22.08'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.033, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 218 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.05646974822320949), 'pnl_gross': np.float64(386.3149864787772), 'pnl': np.float64(376.41336027622395), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(9.90162620255326), 'initial_capital': np.float64(4810.518448126543), 'final_capital': np.float64(5186.931808402767)}
 DEBUG: Result 16 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 16 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.035 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5530304744306732), 'total_pnl_pct': np.float64(-0.5530304744306732), 'total_pnl': np.float64(-5530.304744306732), 'max_drawdown_pct': np.float64(-0.8399719694741911), 'max_drawdown': np.float64(-0.8399719694741911), 'cagr': np.float64(-0.09158671376267369), 'num_trades': 217, 'total_trades': 217, 'win_rate': 0.2626728110599078, 'profit_factor': np.float64(0.8087910325714237), 'avg_trade_return': np.float64(-25.48527531938587), 'sharpe': np.float64(-0.33453537970405683), 'sharpe_ratio': np.float64(-0.33453537970405683), 'final_equity': np.float64(4469.695255693268), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0035651708407434175), 'avg_drawdown': np.float64(0.6569923506034206), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.6583915827296728), 'sortino_ratio': np.float64(-0.11925871027153728), 'calmar_ratio': np.float64(-0.10903544057548194), 'expectancy': np.float64(-25.485275319385863), 'max_consecutive_wins': 8, 'max_consecutive_losses': 23, 'trade_concentration_top_10_pct': np.float64(0.4723597638463221), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5286256963197716), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1401.135870228439), 'win_rate': 0.0}, 'Bear': {'count': 186, 'wins': 52, 'losses': 134, 'pnl': np.float64(-1074.7187716612111), 'win_rate': 27.956989247311824}, 'Bull': {'count': 27, 'wins': 5, 'losses': 22, 'pnl': np.float64(-3054.450102417082), 'win_rate': 18.51851851851852}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.33 < 0.8', 'CAGR no supera Buy & Hold: -9.2%  43.7%', 'Calmar Ratio baixo: -0.11 < 1.0', 'Profit Factor baixo: 0.81 < 1.3', 'Expectancy negativa ou zero: $-25.49'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.035, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 217 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04866124619463547), 'pnl_gross': np.float64(332.8962720254293), 'pnl': np.float64(324.36381906556886), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(8.532452959860441), 'initial_capital': np.float64(4145.3314366277), 'final_capital': np.float64(4469.695255693268)}
 DEBUG: Result 17 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 17 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.037 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6024046357177522), 'total_pnl_pct': np.float64(-0.6024046357177522), 'total_pnl': np.float64(-6024.046357177522), 'max_drawdown_pct': np.float64(-0.8554075018741036), 'max_drawdown': np.float64(-0.8554075018741036), 'cagr': np.float64(-0.10418270145812303), 'num_trades': 214, 'total_trades': 214, 'win_rate': 0.27102803738317754, 'profit_factor': np.float64(0.7799662193958801), 'avg_trade_return': np.float64(-28.14974933260528), 'sharpe': np.float64(-0.3796540817015027), 'sharpe_ratio': np.float64(-0.3796540817015027), 'final_equity': np.float64(3975.9536428224787), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.004577027582131039), 'avg_drawdown': np.float64(0.6844397352990196), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.7042311815105081), 'sortino_ratio': np.float64(-0.1445297094447846), 'calmar_ratio': np.float64(-0.12179306497765124), 'expectancy': np.float64(-28.149749332605268), 'max_consecutive_wins': 8, 'max_consecutive_losses': 23, 'trade_concentration_top_10_pct': np.float64(0.481482502461174), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.541221684015221), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1471.4647759853337), 'win_rate': 0.0}, 'Bear': {'count': 183, 'wins': 53, 'losses': 130, 'pnl': np.float64(-1512.2052541504947), 'win_rate': 28.96174863387978}, 'Bull': {'count': 27, 'wins': 5, 'losses': 22, 'pnl': np.float64(-3040.3763270417003), 'win_rate': 18.51851851851852}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.38 < 0.8', 'CAGR no supera Buy & Hold: -10.4%  43.7%', 'Calmar Ratio baixo: -0.12 < 1.0', 'Profit Factor baixo: 0.78 < 1.3', 'Expectancy negativa ou zero: $-28.15'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.037, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 214 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04328591727263823), 'pnl_gross': np.float64(296.12312914524097), 'pnl': np.float64(288.5332073525288), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.589921792712177), 'initial_capital': np.float64(3687.42043546995), 'final_capital': np.float64(3975.9536428224787)}
 DEBUG: Result 18 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 18 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.039 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5858219263689637), 'total_pnl_pct': np.float64(-0.5858219263689637), 'total_pnl': np.float64(-5858.219263689637), 'max_drawdown_pct': np.float64(-0.8369248679764916), 'max_drawdown': np.float64(-0.8369248679764916), 'cagr': np.float64(-0.09980572327148729), 'num_trades': 211, 'total_trades': 211, 'win_rate': 0.2796208530805687, 'profit_factor': np.float64(0.7940762662796158), 'avg_trade_return': np.float64(-27.76407233976129), 'sharpe': np.float64(-0.3632177599635151), 'sharpe_ratio': np.float64(-0.3632177599635151), 'final_equity': np.float64(4141.780736310363), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.003832372595589988), 'avg_drawdown': np.float64(0.6720450698689385), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.6999695537609701), 'sortino_ratio': np.float64(-0.1184573095478656), 'calmar_ratio': np.float64(-0.11925290679054208), 'expectancy': np.float64(-27.76407233976127), 'max_consecutive_wins': 8, 'max_consecutive_losses': 23, 'trade_concentration_top_10_pct': np.float64(0.47752663203508716), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5368447058285852), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1541.361389368051), 'win_rate': 0.0}, 'Bear': {'count': 181, 'wins': 53, 'losses': 128, 'pnl': np.float64(-2119.7336839531545), 'win_rate': 29.2817679558011}, 'Bull': {'count': 26, 'wins': 6, 'losses': 20, 'pnl': np.float64(-2197.1241903684277), 'win_rate': 23.076923076923077}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.36 < 0.8', 'CAGR no supera Buy & Hold: -10.0%  43.7%', 'Calmar Ratio baixo: -0.12 < 1.0', 'Profit Factor baixo: 0.79 < 1.3', 'Expectancy negativa ou zero: $-27.76'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.039, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 211 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04509126474273173), 'pnl_gross': np.float64(308.47368507019223), 'pnl': np.float64(300.5672066010817), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.906478469110531), 'initial_capital': np.float64(3841.2135297092814), 'final_capital': np.float64(4141.780736310363)}
 DEBUG: Result 19 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 19 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.041 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6593538770225443), 'total_pnl_pct': np.float64(-0.6593538770225443), 'total_pnl': np.float64(-6593.538770225443), 'max_drawdown_pct': np.float64(-0.858686999696594), 'max_drawdown': np.float64(-0.858686999696594), 'cagr': np.float64(-0.12055047348381132), 'num_trades': 207, 'total_trades': 207, 'win_rate': 0.28502415458937197, 'profit_factor': np.float64(0.7588342113045573), 'avg_trade_return': np.float64(-31.852844300606), 'sharpe': np.float64(-0.4226512747920722), 'sharpe_ratio': np.float64(-0.4226512747920722), 'final_equity': np.float64(3406.461229774557), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.005628972485654214), 'avg_drawdown': np.float64(0.6947308310470593), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.7678628851438515), 'sortino_ratio': np.float64(-0.1768845195808686), 'calmar_ratio': np.float64(-0.14038930777618186), 'expectancy': np.float64(-31.852844300605994), 'max_consecutive_wins': 8, 'max_consecutive_losses': 22, 'trade_concentration_top_10_pct': np.float64(0.49988272713851506), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5575894560409093), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1610.827485471324), 'win_rate': 0.0}, 'Bear': {'count': 177, 'wins': 53, 'losses': 124, 'pnl': np.float64(-2705.873608879678), 'win_rate': 29.943502824858758}, 'Bull': {'count': 26, 'wins': 6, 'losses': 20, 'pnl': np.float64(-2276.837675874445), 'win_rate': 23.076923076923077}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.42 < 0.8', 'CAGR no supera Buy & Hold: -12.1%  43.7%', 'Calmar Ratio baixo: -0.14 < 1.0', 'Profit Factor baixo: 0.76 < 1.3', 'Expectancy negativa ou zero: $-31.85'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.041, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 207 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.03708589491496103), 'pnl_gross': np.float64(253.7081790412178), 'pnl': np.float64(247.20539338360106), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(6.5027856576167355), 'initial_capital': np.float64(3159.255836390956), 'final_capital': np.float64(3406.461229774557)}
 DEBUG: Result 20 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 20 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.043 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5250017914128532), 'total_pnl_pct': np.float64(-0.5250017914128532), 'total_pnl': np.float64(-5250.017914128532), 'max_drawdown_pct': np.float64(-0.8143553339276339), 'max_drawdown': np.float64(-0.8143553339276339), 'cagr': np.float64(-0.08497223420246836), 'num_trades': 204, 'total_trades': 204, 'win_rate': 0.30392156862745096, 'profit_factor': np.float64(0.8362729640370136), 'avg_trade_return': np.float64(-25.73538193200263), 'sharpe': np.float64(-0.3034716404884663), 'sharpe_ratio': np.float64(-0.3034716404884663), 'final_equity': np.float64(4749.982085871468), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0020105285838870955), 'avg_drawdown': np.float64(0.6168917661206499), 'max_dd_duration_days': 2855, 'recovery_factor': np.float64(0.644683923025064), 'sortino_ratio': np.float64(-0.06630594292677612), 'calmar_ratio': np.float64(-0.10434294547153938), 'expectancy': np.float64(-25.73538193200264), 'max_consecutive_wins': 8, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.45423852425905786), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5220112167595663), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1679.8648357378947), 'win_rate': 0.0}, 'Bear': {'count': 174, 'wins': 55, 'losses': 119, 'pnl': np.float64(-1534.1609219361928), 'win_rate': 31.60919540229885}, 'Bull': {'count': 26, 'wins': 7, 'losses': 19, 'pnl': np.float64(-2035.992156454445), 'win_rate': 26.923076923076923}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.30 < 0.8', 'CAGR no supera Buy & Hold: -8.5%  43.7%', 'Calmar Ratio baixo: -0.10 < 1.0', 'Profit Factor baixo: 0.84 < 1.3', 'Expectancy negativa ou zero: $-25.74'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.043, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 204 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.05171270846849913), 'pnl_gross': np.float64(353.77161934251956), 'pnl': np.float64(344.704111069723), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(9.067508272796523), 'initial_capital': np.float64(4405.277974801746), 'final_capital': np.float64(4749.982085871468)}
 DEBUG: Result 21 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 21 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.045 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6102727857093229), 'total_pnl_pct': np.float64(-0.6102727857093229), 'total_pnl': np.float64(-6102.7278570932285), 'max_drawdown_pct': np.float64(-0.8346547621115343), 'max_drawdown': np.float64(-0.8346547621115343), 'cagr': np.float64(-0.10631599802022973), 'num_trades': 202, 'total_trades': 202, 'win_rate': 0.3069306930693069, 'profit_factor': np.float64(0.7982826359210209), 'avg_trade_return': np.float64(-30.21152404501599), 'sharpe': np.float64(-0.37191207316165653), 'sharpe_ratio': np.float64(-0.37191207316165653), 'final_equity': np.float64(3897.2721429067715), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0037776407428253174), 'avg_drawdown': np.float64(0.6514072074306709), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.7311679192549464), 'sortino_ratio': np.float64(-0.12018981034805071), 'calmar_ratio': np.float64(-0.12737721372519145), 'expectancy': np.float64(-30.211524045015963), 'max_consecutive_wins': 8, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.4708168934706023), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5433549805773277), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1748.4752079585264), 'win_rate': 0.0}, 'Bear': {'count': 172, 'wins': 55, 'losses': 117, 'pnl': np.float64(-2175.0493421089664), 'win_rate': 31.976744186046513}, 'Bull': {'count': 26, 'wins': 7, 'losses': 19, 'pnl': np.float64(-2179.203307025737), 'win_rate': 26.923076923076923}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.37 < 0.8', 'CAGR no supera Buy & Hold: -10.6%  43.7%', 'Calmar Ratio baixo: -0.13 < 1.0', 'Profit Factor baixo: 0.80 < 1.3', 'Expectancy negativa ou zero: $-30.21'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.045, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 202 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.042429317522692286), 'pnl_gross': np.float64(290.26304775245586), 'pnl': np.float64(282.82332550544805), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.439722247007823), 'initial_capital': np.float64(3614.448817401323), 'final_capital': np.float64(3897.2721429067715)}
 DEBUG: Result 22 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 22 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.047 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6274943983236284), 'total_pnl_pct': np.float64(-0.6274943983236284), 'total_pnl': np.float64(-6274.943983236284), 'max_drawdown_pct': np.float64(-0.8455715461257343), 'max_drawdown': np.float64(-0.8455715461257343), 'cagr': np.float64(-0.11112094915685189), 'num_trades': 200, 'total_trades': 200, 'win_rate': 0.315, 'profit_factor': np.float64(0.789596704188372), 'avg_trade_return': np.float64(-31.374719916181427), 'sharpe': np.float64(-0.3891976705731093), 'sharpe_ratio': np.float64(-0.3891976705731093), 'final_equity': np.float64(3725.0560167637154), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.003925011942034551), 'avg_drawdown': np.float64(0.6597940433852303), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.7420949784778138), 'sortino_ratio': np.float64(-0.12579852375775005), 'calmar_ratio': np.float64(-0.1314151944515982), 'expectancy': np.float64(-31.37471991618142), 'max_consecutive_wins': 8, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.4662395542491773), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5481599317139498), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1816.6603662719992), 'win_rate': 0.0}, 'Bear': {'count': 170, 'wins': 54, 'losses': 116, 'pnl': np.float64(-3418.3102152277515), 'win_rate': 31.76470588235294}, 'Bull': {'count': 26, 'wins': 9, 'losses': 17, 'pnl': np.float64(-1039.9734017365345), 'win_rate': 34.61538461538461}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.39 < 0.8', 'CAGR no supera Buy & Hold: -11.1%  43.7%', 'Calmar Ratio baixo: -0.13 < 1.0', 'Profit Factor baixo: 0.79 < 1.3', 'Expectancy negativa ou zero: $-31.37'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.047, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 200 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04055441312014732), 'pnl_gross': np.float64(277.4366461532282), 'pnl': np.float64(270.32567696681735), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.110969186410831), 'initial_capital': np.float64(3454.730339796898), 'final_capital': np.float64(3725.0560167637154)}
 DEBUG: Result 23 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 23 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.049 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6745787836299383), 'total_pnl_pct': np.float64(-0.6745787836299383), 'total_pnl': np.float64(-6745.787836299383), 'max_drawdown_pct': np.float64(-0.8540022862666603), 'max_drawdown': np.float64(-0.8540022862666603), 'cagr': np.float64(-0.12533406724595175), 'num_trades': 197, 'total_trades': 197, 'win_rate': 0.3197969543147208, 'profit_factor': np.float64(0.7673547599198711), 'avg_trade_return': np.float64(-34.24257784923546), 'sharpe': np.float64(-0.4297511101619051), 'sharpe_ratio': np.float64(-0.4297511101619051), 'final_equity': np.float64(3254.212163700617), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.005077811900017101), 'avg_drawdown': np.float64(0.6696769086751244), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.7899027841938383), 'sortino_ratio': np.float64(-0.15001165922125073), 'calmar_ratio': np.float64(-0.14676080996675045), 'expectancy': np.float64(-34.24257784923549), 'max_consecutive_wins': 8, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.4765160870805329), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5623730498030497), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1884.422071165105), 'win_rate': 0.0}, 'Bear': {'count': 168, 'wins': 54, 'losses': 114, 'pnl': np.float64(-3974.2708907667), 'win_rate': 32.142857142857146}, 'Bull': {'count': 25, 'wins': 9, 'losses': 16, 'pnl': np.float64(-887.094874367578), 'win_rate': 36.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.43 < 0.8', 'CAGR no supera Buy & Hold: -12.5%  43.7%', 'Calmar Ratio baixo: -0.15 < 1.0', 'Profit Factor baixo: 0.77 < 1.3', 'Expectancy negativa ou zero: $-34.24'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.049, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 197 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.03542837043883695), 'pnl_gross': np.float64(242.36889445558296), 'pnl': np.float64(236.15674561326227), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(6.2121488423206825), 'initial_capital': np.float64(3018.055418087355), 'final_capital': np.float64(3254.212163700617)}
 DEBUG: Result 24 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 24 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.051 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.448864824827461), 'total_pnl_pct': np.float64(-0.448864824827461), 'total_pnl': np.float64(-4488.64824827461), 'max_drawdown_pct': np.float64(-0.832614481873663), 'max_drawdown': np.float64(-0.832614481873663), 'cagr': np.float64(-0.06860043096445967), 'num_trades': 193, 'total_trades': 193, 'win_rate': 0.35233160621761656, 'profit_factor': np.float64(0.851546593550534), 'avg_trade_return': np.float64(-23.257244809713026), 'sharpe': np.float64(-0.27437176055620904), 'sharpe_ratio': np.float64(-0.27437176055620904), 'final_equity': np.float64(5511.35175172539), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.0005733011168265882), 'avg_drawdown': np.float64(0.6122879721913923), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.5391028316218617), 'sortino_ratio': np.float64(-0.0012689115431131185), 'calmar_ratio': np.float64(-0.08239158993497878), 'expectancy': np.float64(-23.25724480971303), 'max_consecutive_wins': 9, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.40444220958201027), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5056394135215576), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-1951.762079472659), 'win_rate': 0.0}, 'Bear': {'count': 164, 'wins': 59, 'losses': 105, 'pnl': np.float64(-1516.757053235473), 'win_rate': 35.97560975609756}, 'Bull': {'count': 25, 'wins': 9, 'losses': 16, 'pnl': np.float64(-1020.1291155664837), 'win_rate': 36.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.27 < 0.8', 'CAGR no supera Buy & Hold: -6.9%  43.7%', 'Calmar Ratio baixo: -0.08 < 1.0', 'Profit Factor baixo: 0.85 < 1.3', 'Expectancy negativa ou zero: $-23.26'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.051, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 193 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.06000168448046632), 'pnl_gross': np.float64(410.47730259311186), 'pnl': np.float64(399.95637289282797), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(10.520929700283897), 'initial_capital': np.float64(5111.3953788325625), 'final_capital': np.float64(5511.35175172539)}
 DEBUG: Result 25 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 25 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.053 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.4891520062845646), 'total_pnl_pct': np.float64(-0.4891520062845646), 'total_pnl': np.float64(-4891.520062845646), 'max_drawdown_pct': np.float64(-0.8536281585399215), 'max_drawdown': np.float64(-0.8536281585399215), 'cagr': np.float64(-0.07699588268693891), 'num_trades': 192, 'total_trades': 192, 'win_rate': 0.359375, 'profit_factor': np.float64(0.8325574921789572), 'avg_trade_return': np.float64(-25.476666993987788), 'sharpe': np.float64(-0.30821026112118544), 'sharpe_ratio': np.float64(-0.30821026112118544), 'final_equity': np.float64(5108.479937154354), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00011955023653162944), 'avg_drawdown': np.float64(0.632674995031466), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.5730270275071865), 'sortino_ratio': np.float64(-0.017344346323664356), 'calmar_ratio': np.float64(-0.09019838663550607), 'expectancy': np.float64(-25.476666993987777), 'max_consecutive_wins': 9, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.41193878706616655), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5140348652440369), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2018.682144377488), 'win_rate': 0.0}, 'Bear': {'count': 164, 'wins': 59, 'losses': 105, 'pnl': np.float64(-2358.7732192444746), 'win_rate': 35.97560975609756}, 'Bull': {'count': 24, 'wins': 10, 'losses': 14, 'pnl': np.float64(-514.0646992236909), 'win_rate': 41.66666666666667}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.31 < 0.8', 'CAGR no supera Buy & Hold: -7.7%  43.7%', 'Calmar Ratio baixo: -0.09 < 1.0', 'Profit Factor baixo: 0.83 < 1.3', 'Expectancy negativa ou zero: $-25.48'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.053, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 192 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.055615648423813495), 'pnl_gross': np.float64(380.472007488487), 'pnl': np.float64(370.72014248054484), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(9.751865007942179), 'initial_capital': np.float64(4737.75979467381), 'final_capital': np.float64(5108.479937154354)}
 DEBUG: Result 26 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 26 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.055 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.42907251480119724), 'total_pnl_pct': np.float64(-0.42907251480119724), 'total_pnl': np.float64(-4290.725148011972), 'max_drawdown_pct': np.float64(-0.8462865007244937), 'max_drawdown': np.float64(-0.8462865007244937), 'cagr': np.float64(-0.06467226616058697), 'num_trades': 189, 'total_trades': 189, 'win_rate': 0.37037037037037035, 'profit_factor': np.float64(0.8572956706920445), 'avg_trade_return': np.float64(-22.702249460380823), 'sharpe': np.float64(-0.2639202910730866), 'sharpe_ratio': np.float64(-0.2639202910730866), 'final_equity': np.float64(5709.274851988028), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.0013088450113401468), 'avg_drawdown': np.float64(0.6028404739058947), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.5070062141294638), 'sortino_ratio': np.float64(0.015534257787147673), 'calmar_ratio': np.float64(-0.07641887954637344), 'expectancy': np.float64(-22.702249460380898), 'max_consecutive_wins': 9, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.39776082796610895), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5017112487176849), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2085.184015410431), 'win_rate': 0.0}, 'Bear': {'count': 161, 'wins': 60, 'losses': 101, 'pnl': np.float64(-1666.001396205636), 'win_rate': 37.267080745341616}, 'Bull': {'count': 24, 'wins': 10, 'losses': 14, 'pnl': np.float64(-539.5397363959073), 'win_rate': 41.66666666666667}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.26 < 0.8', 'CAGR no supera Buy & Hold: -6.5%  43.7%', 'Calmar Ratio baixo: -0.08 < 1.0', 'Profit Factor baixo: 0.86 < 1.3', 'Expectancy negativa ou zero: $-22.70'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.055, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 189 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.0621564588349859), 'pnl_gross': np.float64(425.21832148947226), 'pnl': np.float64(414.31956523814785), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(10.898756251324402), 'initial_capital': np.float64(5294.95528674988), 'final_capital': np.float64(5709.274851988028)}
 DEBUG: Result 27 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 27 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.057 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6372596676891864), 'total_pnl_pct': np.float64(-0.6372596676891864), 'total_pnl': np.float64(-6372.596676891864), 'max_drawdown_pct': np.float64(-0.8881081592372781), 'max_drawdown': np.float64(-0.8881081592372781), 'cagr': np.float64(-0.1139331538529702), 'num_trades': 184, 'total_trades': 184, 'win_rate': 0.3641304347826087, 'profit_factor': np.float64(0.7594661253990482), 'avg_trade_return': np.float64(-34.63367759180361), 'sharpe': np.float64(-0.4354852667826304), 'sharpe_ratio': np.float64(-0.4354852667826304), 'final_equity': np.float64(3627.403323108136), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.003243449831861283), 'avg_drawdown': np.float64(0.6819826884468546), 'max_dd_duration_days': 2880, 'recovery_factor': np.float64(0.7175473629658751), 'sortino_ratio': np.float64(-0.102686545048488), 'calmar_ratio': np.float64(-0.12828747565028326), 'expectancy': np.float64(-34.63367759180363), 'max_consecutive_wins': 8, 'max_consecutive_losses': 15, 'trade_concentration_top_10_pct': np.float64(0.45163265163838057), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5509721364100681), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2151.269438450353), 'win_rate': 0.0}, 'Bear': {'count': 156, 'wins': 57, 'losses': 99, 'pnl': np.float64(-3348.729779279519), 'win_rate': 36.53846153846153}, 'Bull': {'count': 24, 'wins': 10, 'losses': 14, 'pnl': np.float64(-872.597459161995), 'win_rate': 41.66666666666667}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.44 < 0.8', 'CAGR no supera Buy & Hold: -11.4%  43.7%', 'Calmar Ratio baixo: -0.13 < 1.0', 'Profit Factor baixo: 0.76 < 1.3', 'Expectancy negativa ou zero: $-34.63'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.057, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 184 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.039491275367860804), 'pnl_gross': np.float64(270.1636183937235), 'pnl': np.float64(263.2390639330053), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(6.924554460718159), 'initial_capital': np.float64(3364.164259175131), 'final_capital': np.float64(3627.403323108136)}
 DEBUG: Result 28 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 28 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.059 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.5998816794855546), 'total_pnl_pct': np.float64(-0.5998816794855546), 'total_pnl': np.float64(-5998.816794855546), 'max_drawdown_pct': np.float64(-0.867703501795939), 'max_drawdown': np.float64(-0.867703501795939), 'cagr': np.float64(-0.10350652124803483), 'num_trades': 182, 'total_trades': 182, 'win_rate': 0.3791208791208791, 'profit_factor': np.float64(0.793342093135358), 'avg_trade_return': np.float64(-32.96053183986569), 'sharpe': np.float64(-0.3870595736582659), 'sharpe_ratio': np.float64(-0.3870595736582659), 'final_equity': np.float64(4001.183205144454), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0021854053215294563), 'avg_drawdown': np.float64(0.6368400954877992), 'max_dd_duration_days': 3044, 'recovery_factor': np.float64(0.6913440803730108), 'sortino_ratio': np.float64(-0.07152515892614546), 'calmar_ratio': np.float64(-0.11928789158255217), 'expectancy': np.float64(-32.960531839865695), 'max_consecutive_wins': 8, 'max_consecutive_losses': 9, 'trade_concentration_top_10_pct': np.float64(0.4359457136390115), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5405455038051328), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2216.940155724121), 'win_rate': 0.0}, 'Bear': {'count': 155, 'wins': 60, 'losses': 95, 'pnl': np.float64(-2395.45367872768), 'win_rate': 38.70967741935484}, 'Bull': {'count': 23, 'wins': 9, 'losses': 14, 'pnl': np.float64(-1386.4229604037505), 'win_rate': 39.130434782608695}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.39 < 0.8', 'CAGR no supera Buy & Hold: -10.4%  43.7%', 'Calmar Ratio baixo: -0.12 < 1.0', 'Profit Factor baixo: 0.79 < 1.3', 'Expectancy negativa ou zero: $-32.96'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.059, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 182 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.04356058967719841), 'pnl_gross': np.float64(298.00218951990985), 'pnl': np.float64(290.3641055950174), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(7.638083924892422), 'initial_capital': np.float64(3710.8190995494365), 'final_capital': np.float64(4001.183205144454)}
 DEBUG: Result 29 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 29 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.061 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6573576783138304), 'total_pnl_pct': np.float64(-0.6573576783138304), 'total_pnl': np.float64(-6573.576783138304), 'max_drawdown_pct': np.float64(-0.8729621525795154), 'max_drawdown': np.float64(-0.8729621525795154), 'cagr': np.float64(-0.11993730724064067), 'num_trades': 179, 'total_trades': 179, 'win_rate': 0.37988826815642457, 'profit_factor': np.float64(0.7728472939660852), 'avg_trade_return': np.float64(-36.72389264323071), 'sharpe': np.float64(-0.42774039094053584), 'sharpe_ratio': np.float64(-0.42774039094053584), 'final_equity': np.float64(3426.423216861697), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0034189505204137967), 'avg_drawdown': np.float64(0.6469774878223338), 'max_dd_duration_days': 3044, 'recovery_factor': np.float64(0.7530196771663061), 'sortino_ratio': np.float64(-0.10799323473172832), 'calmar_ratio': np.float64(-0.13739118802142566), 'expectancy': np.float64(-36.72389264323071), 'max_consecutive_wins': 8, 'max_consecutive_losses': 9, 'trade_concentration_top_10_pct': np.float64(0.45064439029438275), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5569762897977386), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2282.197905806641), 'win_rate': 0.0}, 'Bear': {'count': 152, 'wins': 59, 'losses': 93, 'pnl': np.float64(-2772.5343287626606), 'win_rate': 38.81578947368421}, 'Bull': {'count': 23, 'wins': 9, 'losses': 14, 'pnl': np.float64(-1518.844548568995), 'win_rate': 39.130434782608695}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.43 < 0.8', 'CAGR no supera Buy & Hold: -12.0%  43.7%', 'Calmar Ratio baixo: -0.14 < 1.0', 'Profit Factor baixo: 0.77 < 1.3', 'Expectancy negativa ou zero: $-36.72'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.061, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 179 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.037303219612197194), 'pnl_gross': np.float64(255.19491822663858), 'pnl': np.float64(248.65402600782187), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(6.5408922188167224), 'initial_capital': np.float64(3177.769190853875), 'final_capital': np.float64(3426.423216861697)}
 DEBUG: Result 30 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 30 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.063 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.6804333710683197), 'total_pnl_pct': np.float64(-0.6804333710683197), 'total_pnl': np.float64(-6804.333710683197), 'max_drawdown_pct': np.float64(-0.8862313846170786), 'max_drawdown': np.float64(-0.8862313846170786), 'cagr': np.float64(-0.1272261659028644), 'num_trades': 178, 'total_trades': 178, 'win_rate': 0.38764044943820225, 'profit_factor': np.float64(0.7557114181092073), 'avg_trade_return': np.float64(-38.22659388024269), 'sharpe': np.float64(-0.456438082507778), 'sharpe_ratio': np.float64(-0.456438082507778), 'final_equity': np.float64(3195.6662893168036), 'duration_days': 3062, 'monthly_return_avg': np.float64(-0.0038815708331514562), 'avg_drawdown': np.float64(0.6719535348254281), 'max_dd_duration_days': 3044, 'recovery_factor': np.float64(0.7677829773116421), 'sortino_ratio': np.float64(-0.12173473644905657), 'calmar_ratio': np.float64(-0.14355863278057576), 'expectancy': np.float64(-38.226593880242675), 'max_consecutive_wins': 8, 'max_consecutive_losses': 9, 'trade_concentration_top_10_pct': np.float64(0.45961102896822276), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.5642651484599623), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2347.0444236208114), 'win_rate': 0.0}, 'Bear': {'count': 151, 'wins': 60, 'losses': 91, 'pnl': np.float64(-2792.9208407145097), 'win_rate': 39.735099337748345}, 'Bull': {'count': 23, 'wins': 9, 'losses': 14, 'pnl': np.float64(-1664.3684463478817), 'win_rate': 39.130434782608695}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.46 < 0.8', 'CAGR no supera Buy & Hold: -12.7%  43.7%', 'Calmar Ratio baixo: -0.14 < 1.0', 'Profit Factor baixo: 0.76 < 1.3', 'Expectancy negativa ou zero: $-38.23'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.063, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 178 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.03479098577520867), 'pnl_gross': np.float64(238.00848458199806), 'pnl': np.float64(231.90809725597705), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(6.100387326020996), 'initial_capital': np.float64(2963.758192060827), 'final_capital': np.float64(3195.6662893168036)}
 DEBUG: Result 31 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 31 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.065 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.03536155233453301), 'total_pnl_pct': np.float64(0.03536155233453301), 'total_pnl': np.float64(353.6155233453301), 'max_drawdown_pct': np.float64(-0.7128334106666055), 'max_drawdown': np.float64(-0.7128334106666055), 'cagr': np.float64(0.004153831992728563), 'num_trades': 174, 'total_trades': 174, 'win_rate': 0.43103448275862066, 'profit_factor': np.float64(1.0077449724120753), 'avg_trade_return': np.float64(2.032273122674282), 'sharpe': np.float64(0.01470867874106323), 'sharpe_ratio': np.float64(0.01470867874106323), 'final_equity': np.float64(10353.61552334533), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00744021296644062), 'avg_drawdown': np.float64(0.3647501522227404), 'max_dd_duration_days': 2389, 'recovery_factor': np.float64(-0.04960703553648622), 'sortino_ratio': np.float64(0.17348991000353536), 'calmar_ratio': np.float64(0.005827212825005089), 'expectancy': np.float64(2.032273122674326), 'max_consecutive_wins': 8, 'max_consecutive_losses': 8, 'trade_concentration_top_10_pct': np.float64(0.314385442246475), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4328851505643694), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2411.4814404375607), 'win_rate': 0.0}, 'Bear': {'count': 148, 'wins': 65, 'losses': 83, 'pnl': np.float64(2991.3293180145442), 'win_rate': 43.91891891891892}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-226.23235423165943), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.01 < 0.8', 'CAGR no supera Buy & Hold: 0.4%  43.7%', 'Calmar Ratio baixo: 0.01 < 1.0', 'Profit Factor baixo: 1.01 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.065, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 174 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.11271905692997009), 'pnl_gross': np.float64(771.1219249938955), 'pnl': np.float64(751.357325314555), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(19.76459967934049), 'initial_capital': np.float64(9602.258198030775), 'final_capital': np.float64(10353.61552334533)}
 DEBUG: Result 32 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 32 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.067 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.2866482017973549), 'total_pnl_pct': np.float64(0.2866482017973549), 'total_pnl': np.float64(2866.482017973549), 'max_drawdown_pct': np.float64(-0.6951496409532236), 'max_drawdown': np.float64(-0.6951496409532236), 'cagr': np.float64(0.030521104615011563), 'num_trades': 172, 'total_trades': 172, 'win_rate': 0.4476744186046512, 'profit_factor': np.float64(1.0596262127860696), 'avg_trade_return': np.float64(16.66559312775329), 'sharpe': np.float64(0.10957410746929515), 'sharpe_ratio': np.float64(0.10957410746929515), 'final_equity': np.float64(12866.482017973549), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009281724349209658), 'avg_drawdown': np.float64(0.343821441215477), 'max_dd_duration_days': 2278, 'recovery_factor': np.float64(-0.4123546714406536), 'sortino_ratio': np.float64(0.2246080102828905), 'calmar_ratio': np.float64(0.043905805048190076), 'expectancy': np.float64(16.665593127753368), 'max_consecutive_wins': 8, 'max_consecutive_losses': 8, 'trade_concentration_top_10_pct': np.float64(0.3042942820275038), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4065178779420864), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2475.5106838758265), 'win_rate': 0.0}, 'Bear': {'count': 146, 'wins': 67, 'losses': 79, 'pnl': np.float64(5547.784483705066), 'win_rate': 45.89041095890411}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-205.7917818556723), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.11 < 0.8', 'CAGR no supera Buy & Hold: 3.1%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.06 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.067, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 172 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.14007645114909525), 'pnl_gross': np.float64(958.2764937743555), 'pnl': np.float64(933.7149417451843), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(24.561552029171118), 'initial_capital': np.float64(11932.767076228363), 'final_capital': np.float64(12866.482017973549)}
 DEBUG: Result 33 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 33 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.069 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.41756747176887654), 'total_pnl_pct': np.float64(0.41756747176887654), 'total_pnl': np.float64(4175.674717688766), 'max_drawdown_pct': np.float64(-0.6926536709311888), 'max_drawdown': np.float64(-0.6926536709311888), 'cagr': np.float64(0.042501915832507065), 'num_trades': 167, 'total_trades': 167, 'win_rate': 0.46107784431137727, 'profit_factor': np.float64(1.085542158596112), 'avg_trade_return': np.float64(25.00404022568108), 'sharpe': np.float64(0.15177214143529244), 'sharpe_ratio': np.float64(0.15177214143529244), 'final_equity': np.float64(14175.674717688766), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.010215790093264955), 'avg_drawdown': np.float64(0.3339004834261135), 'max_dd_duration_days': 2218, 'recovery_factor': np.float64(-0.6028517414879327), 'sortino_ratio': np.float64(0.24781975780230653), 'calmar_ratio': np.float64(0.061360991237321236), 'expectancy': np.float64(25.004040225681024), 'max_consecutive_wins': 8, 'max_consecutive_losses': 7, 'trade_concentration_top_10_pct': np.float64(0.3044785524978207), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.3945370667245909), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2539.133877902569), 'win_rate': 0.0}, 'Bear': {'count': 141, 'wins': 67, 'losses': 74, 'pnl': np.float64(7059.22734083837), 'win_rate': 47.5177304964539}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-344.4187452470612), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.15 < 0.8', 'CAGR no supera Buy & Hold: 4.3%  43.7%', 'Calmar Ratio baixo: 0.06 < 1.0', 'Profit Factor baixo: 1.09 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.069, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 167 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.15432953656826676), 'pnl_gross': np.float64(1055.7832239128302), 'pnl': np.float64(1028.7224802191972), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(27.06074369363286), 'initial_capital': np.float64(13146.95223746957), 'final_capital': np.float64(14175.674717688766)}
 DEBUG: Result 34 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 34 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.071 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.31228743605362436), 'total_pnl_pct': np.float64(0.31228743605362436), 'total_pnl': np.float64(3122.8743605362433), 'max_drawdown_pct': np.float64(-0.7183252988878387), 'max_drawdown': np.float64(-0.7183252988878387), 'cagr': np.float64(0.032949429133638075), 'num_trades': 165, 'total_trades': 165, 'win_rate': 0.4666666666666667, 'profit_factor': np.float64(1.0659899216590316), 'avg_trade_return': np.float64(18.926511275977344), 'sharpe': np.float64(0.11764579679853321), 'sharpe_ratio': np.float64(0.11764579679853321), 'final_equity': np.float64(13122.874360536243), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009467185219638996), 'avg_drawdown': np.float64(0.35044975356472413), 'max_dd_duration_days': 2262, 'recovery_factor': np.float64(-0.43474375263843484), 'sortino_ratio': np.float64(0.22976204440582756), 'calmar_ratio': np.float64(0.04586978794238861), 'expectancy': np.float64(18.92651127597742), 'max_consecutive_wins': 10, 'max_consecutive_losses': 7, 'trade_concentration_top_10_pct': np.float64(0.30588055889467847), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.40408955342345987), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2602.3527428327616), 'win_rate': 0.0}, 'Bear': {'count': 139, 'wins': 67, 'losses': 72, 'pnl': np.float64(6326.317377369688), 'win_rate': 48.201438848920866}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-601.0902740006659), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.12 < 0.8', 'CAGR no supera Buy & Hold: 3.3%  43.7%', 'Calmar Ratio baixo: 0.05 < 1.0', 'Profit Factor baixo: 1.07 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.071, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 165 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.14286777587933744), 'pnl_gross': np.float64(977.3722151003836), 'pnl': np.float64(952.3212212911722), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(25.05099380921152), 'initial_capital': np.float64(12170.553139245072), 'final_capital': np.float64(13122.874360536243)}
 DEBUG: Result 35 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 35 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.073 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.17146587720024162), 'total_pnl_pct': np.float64(0.17146587720024162), 'total_pnl': np.float64(1714.6587720024163), 'max_drawdown_pct': np.float64(-0.7419006583060206), 'max_drawdown': np.float64(-0.7419006583060206), 'cagr': np.float64(0.019056821359944687), 'num_trades': 163, 'total_trades': 163, 'win_rate': 0.4723926380368098, 'profit_factor': np.float64(1.039641033053679), 'avg_trade_return': np.float64(10.519378969340035), 'sharpe': np.float64(0.07132234665683455), 'sharpe_ratio': np.float64(0.07132234665683455), 'final_equity': np.float64(11714.658772002416), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.008649148728238137), 'avg_drawdown': np.float64(0.38125072001587607), 'max_dd_duration_days': 2291, 'recovery_factor': np.float64(-0.2311170306705874), 'sortino_ratio': np.float64(0.2016874800296342), 'calmar_ratio': np.float64(0.025686486656390176), 'expectancy': np.float64(10.519378969340039), 'max_consecutive_wins': 10, 'max_consecutive_losses': 7, 'trade_concentration_top_10_pct': np.float64(0.31417450847823636), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.41798216119715326), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2665.168995329391), 'win_rate': 0.0}, 'Bear': {'count': 137, 'wins': 67, 'losses': 70, 'pnl': np.float64(5240.400262806865), 'win_rate': 48.9051094890511}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-860.5724954750502), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.07 < 0.8', 'CAGR no supera Buy & Hold: 1.9%  43.7%', 'Calmar Ratio baixo: 0.03 < 1.0', 'Profit Factor baixo: 1.04 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.073, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 163 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.12753663549309213), 'pnl_gross': np.float64(872.490407099293), 'pnl': np.float64(850.1276353229375), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(22.36277177635541), 'initial_capital': np.float64(10864.53113667948), 'final_capital': np.float64(11714.658772002416)}
 DEBUG: Result 36 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 36 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.075 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.1724028963692639), 'total_pnl_pct': np.float64(-0.1724028963692639), 'total_pnl': np.float64(-1724.028963692639), 'max_drawdown_pct': np.float64(-0.7439497665903632), 'max_drawdown': np.float64(-0.7439497665903632), 'cagr': np.float64(-0.0223192756046523), 'num_trades': 161, 'total_trades': 161, 'win_rate': 0.4720496894409938, 'profit_factor': np.float64(0.9549022327576474), 'avg_trade_return': np.float64(-10.708254432873582), 'sharpe': np.float64(-0.08467749582765022), 'sharpe_ratio': np.float64(-0.08467749582765022), 'final_equity': np.float64(8275.971036307361), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.005260732903997543), 'avg_drawdown': np.float64(0.4355327813907245), 'max_dd_duration_days': 2688, 'recovery_factor': np.float64(0.23173996970173538), 'sortino_ratio': np.float64(0.12122279148921376), 'calmar_ratio': np.float64(-0.030001051962076676), 'expectancy': np.float64(-10.708254432873588), 'max_consecutive_wins': 10, 'max_consecutive_losses': 8, 'trade_concentration_top_10_pct': np.float64(0.3354145706490746), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.45935825816175024), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2727.584348403464), 'win_rate': 0.0}, 'Bear': {'count': 135, 'wins': 66, 'losses': 69, 'pnl': np.float64(1996.2961135893142), 'win_rate': 48.888888888888886}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-992.7407288784993), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.08 < 0.8', 'CAGR no supera Buy & Hold: -2.2%  43.7%', 'Calmar Ratio baixo: -0.03 < 1.0', 'Profit Factor baixo: 0.95 < 1.3', 'Expectancy negativa ou zero: $-10.71'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.075, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 161 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.0900998929590249), 'pnl_gross': np.float64(616.3820457038812), 'pnl': np.float64(600.5835785769524), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(15.798467126928866), 'initial_capital': np.float64(7675.387457730409), 'final_capital': np.float64(8275.971036307361)}
 DEBUG: Result 37 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 37 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.077 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.25905677288067247), 'total_pnl_pct': np.float64(-0.25905677288067247), 'total_pnl': np.float64(-2590.5677288067245), 'max_drawdown_pct': np.float64(-0.7484165436227311), 'max_drawdown': np.float64(-0.7484165436227311), 'cagr': np.float64(-0.035133286411668685), 'num_trades': 160, 'total_trades': 160, 'win_rate': 0.475, 'profit_factor': np.float64(0.9310634439766586), 'avg_trade_return': np.float64(-16.191048305042006), 'sharpe': np.float64(-0.12992451085870876), 'sharpe_ratio': np.float64(-0.12992451085870876), 'final_equity': np.float64(7409.4322711932755), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.004524591411152924), 'avg_drawdown': np.float64(0.449322750883006), 'max_dd_duration_days': 2897, 'recovery_factor': np.float64(0.3461398269294007), 'sortino_ratio': np.float64(0.09615375953447887), 'calmar_ratio': np.float64(-0.046943492512344843), 'expectancy': np.float64(-16.19104830504199), 'max_consecutive_wins': 10, 'max_consecutive_losses': 8, 'trade_concentration_top_10_pct': np.float64(0.3418691864699971), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.47217226896876663), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2789.6005114140016), 'win_rate': 0.0}, 'Bear': {'count': 134, 'wins': 66, 'losses': 68, 'pnl': np.float64(1470.418698910496), 'win_rate': 49.25373134328358}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-1271.3859163032143), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.13 < 0.8', 'CAGR no supera Buy & Hold: -3.5%  43.7%', 'Calmar Ratio baixo: -0.05 < 1.0', 'Profit Factor baixo: 0.93 < 1.3', 'Expectancy negativa ou zero: $-16.19'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.077, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 160 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.08066594863525878), 'pnl_gross': np.float64(551.8435239546495), 'pnl': np.float64(537.6992414708043), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(14.144282483845254), 'initial_capital': np.float64(6871.733029722472), 'final_capital': np.float64(7409.4322711932755)}
 DEBUG: Result 38 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 38 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.079 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.004891766218818157), 'total_pnl_pct': np.float64(-0.004891766218818157), 'total_pnl': np.float64(-48.917662188181566), 'max_drawdown_pct': np.float64(-0.7683338695571934), 'max_drawdown': np.float64(-0.7683338695571934), 'cagr': np.float64(-0.0005847740927296119), 'num_trades': 160, 'total_trades': 160, 'win_rate': 0.4875, 'profit_factor': np.float64(0.9987775590533124), 'avg_trade_return': np.float64(-0.3057353886761007), 'sharpe': np.float64(-0.0022295388058706494), 'sharpe_ratio': np.float64(-0.0022295388058706494), 'final_equity': np.float64(9951.082337811818), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.007449539263068935), 'avg_drawdown': np.float64(0.4107989442143562), 'max_dd_duration_days': 2404, 'recovery_factor': np.float64(0.006366719485680588), 'sortino_ratio': np.float64(0.16308504646224453), 'calmar_ratio': np.float64(-0.000761093732685023), 'expectancy': np.float64(-0.3057353886760552), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.31689030760740156), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.43762375664982756), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2851.2191900680436), 'win_rate': 0.0}, 'Bear': {'count': 134, 'wins': 68, 'losses': 66, 'pnl': np.float64(4318.745620776803), 'win_rate': 50.74626865671642}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-1516.444092896933), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.00 < 0.8', 'CAGR no supera Buy & Hold: -0.1%  43.7%', 'Calmar Ratio baixo: -0.00 < 1.0', 'Profit Factor baixo: 1.00 < 1.3', 'Expectancy negativa ou zero: $-0.31'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.079, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 160 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.10833670750294659), 'pnl_gross': np.float64(741.1418504776426), 'pnl': np.float64(722.1456690626061), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(18.99618141503653), 'initial_capital': np.float64(9228.936668749213), 'final_capital': np.float64(9951.082337811818)}
 DEBUG: Result 39 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 39 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.081 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.012941209719482503), 'total_pnl_pct': np.float64(-0.012941209719482503), 'total_pnl': np.float64(-129.41209719482504), 'max_drawdown_pct': np.float64(-0.7869690137520835), 'max_drawdown': np.float64(-0.7869690137520835), 'cagr': np.float64(-0.0015525585273369336), 'num_trades': 158, 'total_trades': 158, 'win_rate': 0.4936708860759494, 'profit_factor': np.float64(0.9965323505020821), 'avg_trade_return': np.float64(-0.819063906296384), 'sharpe': np.float64(-0.006236665344524324), 'sharpe_ratio': np.float64(-0.006236665344524324), 'final_equity': np.float64(9870.587902805175), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00742900324592415), 'avg_drawdown': np.float64(0.43450801086711943), 'max_dd_duration_days': 2407, 'recovery_factor': np.float64(0.016444370100141412), 'sortino_ratio': np.float64(0.16127975510202003), 'calmar_ratio': np.float64(-0.001972833110588051), 'expectancy': np.float64(-0.8190639062963783), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.32182276818324973), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4385915410844349), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2912.442086420647), 'win_rate': 0.0}, 'Bear': {'count': 132, 'wins': 68, 'losses': 64, 'pnl': np.float64(4433.559548176434), 'win_rate': 51.515151515151516}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-1650.529558950615), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.01 < 0.8', 'CAGR no supera Buy & Hold: -0.2%  43.7%', 'Calmar Ratio baixo: -0.00 < 1.0', 'Profit Factor baixo: 1.00 < 1.3', 'Expectancy negativa ou zero: $-0.82'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.081, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 158 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.10746037046091511), 'pnl_gross': np.float64(735.146744368703), 'pnl': np.float64(716.3042233132514), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(18.842521055451634), 'initial_capital': np.float64(9154.283679491924), 'final_capital': np.float64(9870.587902805175)}
 DEBUG: Result 40 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 40 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.083 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.07912808101440169), 'total_pnl_pct': np.float64(-0.07912808101440169), 'total_pnl': np.float64(-791.2808101440169), 'max_drawdown_pct': np.float64(-0.8041405497933728), 'max_drawdown': np.float64(-0.8041405497933728), 'cagr': np.float64(-0.009784972350133425), 'num_trades': 157, 'total_trades': 157, 'win_rate': 0.4968152866242038, 'profit_factor': np.float64(0.9774979548351286), 'avg_trade_return': np.float64(-5.040005160152991), 'sharpe': np.float64(-0.04028834817308482), 'sharpe_ratio': np.float64(-0.04028834817308482), 'final_equity': np.float64(9208.719189855983), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.007002723284748406), 'avg_drawdown': np.float64(0.469784372369739), 'max_dd_duration_days': 2688, 'recovery_factor': np.float64(0.09840080945393688), 'sortino_ratio': np.float64(0.14608257697083643), 'calmar_ratio': np.float64(-0.012168236451510515), 'expectancy': np.float64(-5.04000516015293), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.33405336786364753), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.44682395490723137), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-2973.2708988748764), 'win_rate': 0.0}, 'Bear': {'count': 131, 'wins': 68, 'losses': 63, 'pnl': np.float64(4119.8438203637015), 'win_rate': 51.908396946564885}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-1937.8537316328466), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.04 < 0.8', 'CAGR no supera Buy & Hold: -1.0%  43.7%', 'Calmar Ratio baixo: -0.01 < 1.0', 'Profit Factor baixo: 0.98 < 1.3', 'Expectancy negativa ou zero: $-5.04'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.083, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 157 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.10025465406485363), 'pnl_gross': np.float64(685.8517444846717), 'pnl': np.float64(668.2727018848595), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(17.579042599812176), 'initial_capital': np.float64(8540.446487971125), 'final_capital': np.float64(9208.719189855983)}
 DEBUG: Result 41 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 41 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.085 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.06046285724807058), 'total_pnl_pct': np.float64(-0.06046285724807058), 'total_pnl': np.float64(-604.6285724807058), 'max_drawdown_pct': np.float64(-0.801824995458404), 'max_drawdown': np.float64(-0.801824995458404), 'cagr': np.float64(-0.007411939531346556), 'num_trades': 155, 'total_trades': 155, 'win_rate': 0.5032258064516129, 'profit_factor': np.float64(0.9827059198623138), 'avg_trade_return': np.float64(-3.9008294998755737), 'sharpe': np.float64(-0.030709446759687942), 'sharpe_ratio': np.float64(-0.030709446759687942), 'final_equity': np.float64(9395.371427519294), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00708158209135677), 'avg_drawdown': np.float64(0.4722661416419653), 'max_dd_duration_days': 2669, 'recovery_factor': np.float64(0.07540655079417159), 'sortino_ratio': np.float64(0.15040996856554217), 'calmar_ratio': np.float64(-0.009243836963587227), 'expectancy': np.float64(-3.900829499875641), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.33606684132546183), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4444509220884445), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-3033.7073221818223), 'win_rate': 0.0}, 'Bear': {'count': 129, 'wins': 68, 'losses': 61, 'pnl': np.float64(4511.015356287683), 'win_rate': 52.71317829457365}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-2081.936606586575), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.03 < 0.8', 'CAGR no supera Buy & Hold: -0.7%  43.7%', 'Calmar Ratio baixo: -0.01 < 1.0', 'Profit Factor baixo: 0.98 < 1.3', 'Expectancy negativa ou zero: $-3.90'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.085, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 155 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.10228672336043813), 'pnl_gross': np.float64(699.7533262545195), 'pnl': np.float64(681.8179726879392), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(17.935353566580282), 'initial_capital': np.float64(8713.553454831355), 'final_capital': np.float64(9395.371427519294)}
 DEBUG: Result 42 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 42 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.087 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.04478640149153889), 'total_pnl_pct': np.float64(-0.04478640149153889), 'total_pnl': np.float64(-447.8640149153889), 'max_drawdown_pct': np.float64(-0.8190637849701723), 'max_drawdown': np.float64(-0.8190637849701723), 'cagr': np.float64(-0.0054507549093208985), 'num_trades': 153, 'total_trades': 153, 'win_rate': 0.5098039215686274, 'profit_factor': np.float64(0.9871175265595595), 'avg_trade_return': np.float64(-2.9272157837607296), 'sharpe': np.float64(-0.022601336516143836), 'sharpe_ratio': np.float64(-0.022601336516143836), 'final_equity': np.float64(9552.135985084611), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00697353938973552), 'avg_drawdown': np.float64(0.47200479820192426), 'max_dd_duration_days': 2596, 'recovery_factor': np.float64(0.05467999234414921), 'sortino_ratio': np.float64(0.15330119274299783), 'calmar_ratio': np.float64(-0.006654860108995538), 'expectancy': np.float64(-2.927215783760687), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.335338322510402), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.44248973746641884), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-3093.7530474405876), 'win_rate': 0.0}, 'Bear': {'count': 127, 'wins': 68, 'losses': 59, 'pnl': np.float64(4927.960722667059), 'win_rate': 53.54330708661418}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-2282.071690141862), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.02 < 0.8', 'CAGR no supera Buy & Hold: -0.5%  43.7%', 'Calmar Ratio baixo: -0.01 < 1.0', 'Profit Factor baixo: 0.99 < 1.3', 'Expectancy negativa ou zero: $-2.93'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.087, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 153 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.103993407663034), 'pnl_gross': np.float64(711.4289179478765), 'pnl': np.float64(693.1943076900272), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(18.234610257849255), 'initial_capital': np.float64(8858.941677394583), 'final_capital': np.float64(9552.135985084611)}
 DEBUG: Result 43 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 43 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.089 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.09288800135169549), 'total_pnl_pct': np.float64(0.09288800135169549), 'total_pnl': np.float64(928.8800135169549), 'max_drawdown_pct': np.float64(-0.7968404651537905), 'max_drawdown': np.float64(-0.7968404651537905), 'cagr': np.float64(0.010651648950485093), 'num_trades': 151, 'total_trades': 151, 'win_rate': 0.5231788079470199, 'profit_factor': np.float64(1.0260366037399733), 'avg_trade_return': np.float64(6.151523268324193), 'sharpe': np.float64(0.0450309617592583), 'sharpe_ratio': np.float64(0.0450309617592583), 'final_equity': np.float64(10928.880013516955), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.008120994460593986), 'avg_drawdown': np.float64(0.4489880693598205), 'max_dd_duration_days': 2545, 'recovery_factor': np.float64(-0.11657038693908207), 'sortino_ratio': np.float64(0.18252608749005533), 'calmar_ratio': np.float64(0.013367354465902181), 'expectancy': np.float64(6.151523268324183), 'max_consecutive_wins': 10, 'max_consecutive_losses': 6, 'trade_concentration_top_10_pct': np.float64(0.32702940264706126), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.42638733360661285), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-3153.4097620982893), 'win_rate': 0.0}, 'Bear': {'count': 125, 'wins': 69, 'losses': 56, 'pnl': np.float64(6436.441034682855), 'win_rate': 55.2}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-2354.151259067615), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.05 < 0.8', 'CAGR no supera Buy & Hold: 1.1%  43.7%', 'Calmar Ratio baixo: 0.01 < 1.0', 'Profit Factor baixo: 1.03 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.089, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 151 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.11898191947023314), 'pnl_gross': np.float64(813.9667708394406), 'pnl': np.float64(793.1040163819605), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(20.862754457480094), 'initial_capital': np.float64(10135.775997134993), 'final_capital': np.float64(10928.880013516955)}
 DEBUG: Result 44 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 44 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.091 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.02709296497741161), 'total_pnl_pct': np.float64(0.02709296497741161), 'total_pnl': np.float64(270.9296497741161), 'max_drawdown_pct': np.float64(-0.7944265899763424), 'max_drawdown': np.float64(-0.7944265899763424), 'cagr': np.float64(0.0031938637307413753), 'num_trades': 150, 'total_trades': 150, 'win_rate': 0.5266666666666666, 'profit_factor': np.float64(1.0076645335976804), 'avg_trade_return': np.float64(1.8061976651608227), 'sharpe': np.float64(0.013390717458336006), 'sharpe_ratio': np.float64(0.013390717458336006), 'final_equity': np.float64(10270.929649774116), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.007472327170552783), 'avg_drawdown': np.float64(0.4580180426213252), 'max_dd_duration_days': 2596, 'recovery_factor': np.float64(-0.03410379929279364), 'sortino_ratio': np.float64(0.1681817480374571), 'calmar_ratio': np.float64(0.004020338406392574), 'expectancy': np.float64(1.806197665160738), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.3264171229783824), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.43384511882635657), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-3212.679149950066), 'win_rate': 0.0}, 'Bear': {'count': 124, 'wins': 69, 'losses': 55, 'pnl': np.float64(5903.058073192089), 'win_rate': 55.64516129032258}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-2419.4492734679015), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.01 < 0.8', 'CAGR no supera Buy & Hold: 0.3%  43.7%', 'Calmar Ratio baixo: 0.00 < 1.0', 'Profit Factor baixo: 1.01 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.091, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 150 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.11181886185614656), 'pnl_gross': np.float64(764.9636037915802), 'pnl': np.float64(745.3568478322993), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(19.60675595928089), 'initial_capital': np.float64(9525.572801941815), 'final_capital': np.float64(10270.929649774116)}
 DEBUG: Result 45 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 45 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.093 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(-0.11624352090012344), 'total_pnl_pct': np.float64(-0.11624352090012344), 'total_pnl': np.float64(-1162.4352090012344), 'max_drawdown_pct': np.float64(-0.8095173846799587), 'max_drawdown': np.float64(-0.8095173846799587), 'cagr': np.float64(-0.014632356577847783), 'num_trades': 150, 'total_trades': 150, 'win_rate': 0.5266666666666666, 'profit_factor': np.float64(0.9652469587686233), 'avg_trade_return': np.float64(-7.749568060008272), 'sharpe': np.float64(-0.06179694177588658), 'sharpe_ratio': np.float64(-0.06179694177588658), 'final_equity': np.float64(8837.564790998766), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.006172061938365117), 'avg_drawdown': np.float64(0.49440471054388185), 'max_dd_duration_days': 2702, 'recovery_factor': np.float64(0.14359607724308496), 'sortino_ratio': np.float64(0.13604430953161364), 'calmar_ratio': np.float64(-0.018075407464699055), 'expectancy': np.float64(-7.749568060008329), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.33077667436479175), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4516713391349457), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 0, 'losses': 4, 'pnl': np.float64(-3271.5628911390672), 'win_rate': 0.0}, 'Bear': {'count': 124, 'wins': 69, 'losses': 55, 'pnl': np.float64(4598.909531156754), 'win_rate': 55.64516129032258}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-2489.78184901893), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: -0.06 < 0.8', 'CAGR no supera Buy & Hold: -1.5%  43.7%', 'Calmar Ratio baixo: -0.02 < 1.0', 'Profit Factor baixo: 0.97 < 1.3', 'Expectancy negativa ou zero: $-7.75'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.093, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 150 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.09621392319936385), 'pnl_gross': np.float64(658.2087154508627), 'pnl': np.float64(641.3381903825446), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(16.870525068318116), 'initial_capital': np.float64(8196.22660061622), 'final_capital': np.float64(8837.564790998766)}
 DEBUG: Result 46 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 46 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.095 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.2618597165255351), 'total_pnl_pct': np.float64(0.2618597165255351), 'total_pnl': np.float64(2618.597165255351), 'max_drawdown_pct': np.float64(-0.75023068815424), 'max_drawdown': np.float64(-0.75023068815424), 'cagr': np.float64(0.028132491473743082), 'num_trades': 147, 'total_trades': 147, 'win_rate': 0.54421768707483, 'profit_factor': np.float64(1.0649002450782588), 'avg_trade_return': np.float64(17.81358615819971), 'sharpe': np.float64(0.10936353240464532), 'sharpe_ratio': np.float64(0.10936353240464532), 'final_equity': np.float64(12618.59716525535), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.008984039073561826), 'avg_drawdown': np.float64(0.40838753999023036), 'max_dd_duration_days': 2334, 'recovery_factor': np.float64(-0.34903892983873674), 'sortino_ratio': np.float64(0.2151645153039377), 'calmar_ratio': np.float64(0.03749845469925554), 'expectancy': np.float64(17.813586158199826), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.3214295081134299), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.40890649108335486), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 1, 'losses': 3, 'pnl': np.float64(-1975.571548588523), 'win_rate': 25.0}, 'Bear': {'count': 121, 'wins': 69, 'losses': 52, 'pnl': np.float64(7735.309635391287), 'win_rate': 57.02479338842975}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3141.1409215474046), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.11 < 0.8', 'CAGR no supera Buy & Hold: 2.8%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.06 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.095, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 147 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.13737774684018816), 'pnl_gross': np.float64(939.8143976714165), 'pnl': np.float64(915.7260469958692), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(24.08835067554732), 'initial_capital': np.float64(11702.871118259482), 'final_capital': np.float64(12618.59716525535)}
 DEBUG: Result 47 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 47 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.097 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.18984006464541597), 'total_pnl_pct': np.float64(0.18984006464541597), 'total_pnl': np.float64(1898.4006464541599), 'max_drawdown_pct': np.float64(-0.7552184483775781), 'max_drawdown': np.float64(-0.7552184483775781), 'cagr': np.float64(0.020950390924942885), 'num_trades': 145, 'total_trades': 145, 'win_rate': 0.5517241379310345, 'profit_factor': np.float64(1.048413033255857), 'avg_trade_return': np.float64(13.092418251408056), 'sharpe': np.float64(0.0812695426561545), 'sharpe_ratio': np.float64(0.0812695426561545), 'final_equity': np.float64(11898.40064645416), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00861516409854641), 'avg_drawdown': np.float64(0.4177263667328822), 'max_dd_duration_days': 2348, 'recovery_factor': np.float64(-0.25137106363496), 'sortino_ratio': np.float64(0.20209975417716997), 'calmar_ratio': np.float64(0.02774083574090414), 'expectancy': np.float64(13.092418251408105), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.3260127552914095), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.41608859163215506), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 1, 'losses': 3, 'pnl': np.float64(-2028.0685904922982), 'win_rate': 25.0}, 'Bear': {'count': 119, 'wins': 69, 'losses': 50, 'pnl': np.float64(7184.08854845846), 'win_rate': 57.98319327731093}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3257.619311511997), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.08 < 0.8', 'CAGR no supera Buy & Hold: 2.1%  43.7%', 'Calmar Ratio baixo: 0.03 < 1.0', 'Profit Factor baixo: 1.05 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.097, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 145 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.12953701987669666), 'pnl_gross': np.float64(886.1752293345535), 'pnl': np.float64(863.4617023476455), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(22.71352698690788), 'initial_capital': np.float64(11034.938944106514), 'final_capital': np.float64(11898.40064645416)}
 DEBUG: Result 48 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 48 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.099 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.29135825892376904), 'total_pnl_pct': np.float64(0.29135825892376904), 'total_pnl': np.float64(2913.5825892376906), 'max_drawdown_pct': np.float64(-0.7413297417814443), 'max_drawdown': np.float64(-0.7413297417814443), 'cagr': np.float64(0.030970376490171425), 'num_trades': 143, 'total_trades': 143, 'win_rate': 0.5594405594405595, 'profit_factor': np.float64(1.0741407184015812), 'avg_trade_return': np.float64(20.374703421242565), 'sharpe': np.float64(0.12267975505064344), 'sharpe_ratio': np.float64(0.12267975505064344), 'final_equity': np.float64(12913.58258923769), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009273362577282106), 'avg_drawdown': np.float64(0.4025078359863778), 'max_dd_duration_days': 2341, 'recovery_factor': np.float64(-0.3930211382368443), 'sortino_ratio': np.float64(0.22014711121124364), 'calmar_ratio': np.float64(0.0417767893889545), 'expectancy': np.float64(20.3747034212426), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.32127923239085066), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4060686060669265), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 4, 'wins': 1, 'losses': 3, 'pnl': np.float64(-2080.336169169421), 'win_rate': 25.0}, 'Bear': {'count': 117, 'wins': 69, 'losses': 48, 'pnl': np.float64(8386.373352302373), 'win_rate': 58.97435897435898}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3392.454593895264), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.12 < 0.8', 'CAGR no supera Buy & Hold: 3.1%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.07 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.099, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 143 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.14058923163256848), 'pnl_gross': np.float64(961.784474450248), 'pnl': np.float64(937.1330094883815), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(24.65146496186646), 'initial_capital': np.float64(11976.449579749307), 'final_capital': np.float64(12913.58258923769)}
 DEBUG: Result 49 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 49 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.101 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.5026093686001756), 'total_pnl_pct': np.float64(0.5026093686001756), 'total_pnl': np.float64(5026.0936860017555), 'max_drawdown_pct': np.float64(-0.7278806157256336), 'max_drawdown': np.float64(-0.7278806157256336), 'cagr': np.float64(0.049772151165533796), 'num_trades': 140, 'total_trades': 140, 'win_rate': 0.5714285714285714, 'profit_factor': np.float64(1.1194111017317487), 'avg_trade_return': np.float64(35.900669185726755), 'sharpe': np.float64(0.1922801126929318), 'sharpe_ratio': np.float64(0.1922801126929318), 'final_equity': np.float64(15026.093686001755), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.010655618193853602), 'avg_drawdown': np.float64(0.39304354896658783), 'max_dd_duration_days': 2340, 'recovery_factor': np.float64(-0.6905107207713147), 'sortino_ratio': np.float64(0.25329830684771437), 'calmar_ratio': np.float64(0.06837955303414049), 'expectancy': np.float64(35.90066918572671), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.3176009786195973), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.38726683139156415), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1236.6523645977727), 'win_rate': 33.33333333333333}, 'Bear': {'count': 115, 'wins': 69, 'losses': 46, 'pnl': np.float64(10132.14461503441), 'win_rate': 60.0}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3869.39856443489), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.19 < 0.8', 'CAGR no supera Buy & Hold: 5.0%  43.7%', 'Calmar Ratio baixo: 0.07 < 1.0', 'Profit Factor baixo: 1.12 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.101, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 140 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.16358798584016185), 'pnl_gross': np.float64(1119.121167109406), 'pnl': np.float64(1090.4370107605007), 'pnl_pct': np.float64(0.07911740388277332), 'commission': np.float64(28.684156348905297), 'initial_capital': np.float64(13935.656675241255), 'final_capital': np.float64(15026.093686001755)}
 DEBUG: Result 50 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 50 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.103 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.32242554865213624), 'total_pnl_pct': np.float64(0.32242554865213624), 'total_pnl': np.float64(3224.2554865213624), 'max_drawdown_pct': np.float64(-0.7424580963696613), 'max_drawdown': np.float64(-0.7424580963696613), 'cagr': np.float64(0.03389810836175822), 'num_trades': 140, 'total_trades': 140, 'win_rate': 0.5714285714285714, 'profit_factor': np.float64(1.0802567808511938), 'avg_trade_return': np.float64(23.030396332295506), 'sharpe': np.float64(0.131218088116643), 'sharpe_ratio': np.float64(0.131218088116643), 'final_equity': np.float64(13224.255486521362), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009539616041919727), 'avg_drawdown': np.float64(0.4222058007588533), 'max_dd_duration_days': 2607, 'recovery_factor': np.float64(-0.4342676714398763), 'sortino_ratio': np.float64(0.22526086689354088), 'calmar_ratio': np.float64(0.04565659466508227), 'expectancy': np.float64(23.03039633229548), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.32231154410808655), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4031408741953397), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1275.1671820510917), 'win_rate': 33.33333333333333}, 'Bear': {'count': 115, 'wins': 69, 'losses': 46, 'pnl': np.float64(8427.795605495621), 'win_rate': 60.0}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3928.372936923161), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.13 < 0.8', 'CAGR no supera Buy & Hold: 3.4%  43.7%', 'Calmar Ratio baixo: 0.05 < 1.0', 'Profit Factor baixo: 1.08 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.103, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 140 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.143971504802415), 'pnl_gross': np.float64(984.9229309688085), 'pnl': np.float64(959.6784050194843), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(25.244525949324178), 'initial_capital': np.float64(12264.577081501879), 'final_capital': np.float64(13224.255486521362)}
 DEBUG: Result 51 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 51 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.105 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.16352019497181028), 'total_pnl_pct': np.float64(0.16352019497181028), 'total_pnl': np.float64(1635.2019497181027), 'max_drawdown_pct': np.float64(-0.7589268403018774), 'max_drawdown': np.float64(-0.7589268403018774), 'cagr': np.float64(0.018229859015580052), 'num_trades': 140, 'total_trades': 140, 'win_rate': 0.5714285714285714, 'profit_factor': np.float64(1.0425907012450892), 'avg_trade_return': np.float64(11.680013926557754), 'sharpe': np.float64(0.07052305097486893), 'sharpe_ratio': np.float64(0.07052305097486893), 'final_equity': np.float64(11635.201949718103), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.008426188895725321), 'avg_drawdown': np.float64(0.4531726738019306), 'max_dd_duration_days': 2630, 'recovery_factor': np.float64(-0.21546239543559578), 'sortino_ratio': np.float64(0.19762026392865112), 'calmar_ratio': np.float64(0.02402057490591423), 'expectancy': np.float64(11.680013926557763), 'max_consecutive_wins': 10, 'max_consecutive_losses': 5, 'trade_concentration_top_10_pct': np.float64(0.32797841137605105), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4188091235415179), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1313.5971769028752), 'win_rate': 33.33333333333333}, 'Bear': {'count': 115, 'wins': 69, 'losses': 46, 'pnl': np.float64(6925.299700921425), 'win_rate': 60.0}, 'Bull': {'count': 22, 'wins': 10, 'losses': 12, 'pnl': np.float64(-3976.500574300464), 'win_rate': 45.45454545454545}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.07 < 0.8', 'CAGR no supera Buy & Hold: 1.8%  43.7%', 'Calmar Ratio baixo: 0.02 < 1.0', 'Profit Factor baixo: 1.04 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.105, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 140 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.12667159486507718), 'pnl_gross': np.float64(866.5725808466545), 'pnl': np.float64(844.361488672531), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(22.211092174123614), 'initial_capital': np.float64(10790.840461045571), 'final_capital': np.float64(11635.201949718103)}
 DEBUG: Result 52 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 52 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.107 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.4186220399304673), 'total_pnl_pct': np.float64(0.4186220399304673), 'total_pnl': np.float64(4186.220399304673), 'max_drawdown_pct': np.float64(-0.7617589737907132), 'max_drawdown': np.float64(-0.7617589737907132), 'cagr': np.float64(0.04259439642147811), 'num_trades': 137, 'total_trades': 137, 'win_rate': 0.5766423357664233, 'profit_factor': np.float64(1.0990399746620267), 'avg_trade_return': np.float64(30.55635327959617), 'sharpe': np.float64(0.1578738853133905), 'sharpe_ratio': np.float64(0.1578738853133905), 'final_equity': np.float64(14186.220399304673), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.010590725620516774), 'avg_drawdown': np.float64(0.3925727699118906), 'max_dd_duration_days': 2334, 'recovery_factor': np.float64(-0.5495465814433323), 'sortino_ratio': np.float64(0.24142088463436914), 'calmar_ratio': np.float64(0.05591584462670282), 'expectancy': np.float64(30.556353279596124), 'max_consecutive_wins': 11, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.32388113385665673), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.39444458613561983), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1351.9423491531215), 'win_rate': 33.33333333333333}, 'Bear': {'count': 112, 'wins': 67, 'losses': 45, 'pnl': np.float64(8612.451000974228), 'win_rate': 59.82142857142857}, 'Bull': {'count': 22, 'wins': 11, 'losses': 11, 'pnl': np.float64(-3074.2882525164314), 'win_rate': 50.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.16 < 0.8', 'CAGR no supera Buy & Hold: 4.3%  43.7%', 'Calmar Ratio baixo: 0.06 < 1.0', 'Profit Factor baixo: 1.10 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.107, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 137 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.15444434663473566), 'pnl_gross': np.float64(1056.5686506354755), 'pnl': np.float64(1029.487775696384), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(27.080874939091437), 'initial_capital': np.float64(13156.732623608288), 'final_capital': np.float64(14186.220399304673)}
 DEBUG: Result 53 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 53 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.109 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.2557736156462681), 'total_pnl_pct': np.float64(0.2557736156462681), 'total_pnl': np.float64(2557.736156462681), 'max_drawdown_pct': np.float64(-0.7741038846568935), 'max_drawdown': np.float64(-0.7741038846568935), 'cagr': np.float64(0.027539721216436996), 'num_trades': 137, 'total_trades': 137, 'win_rate': 0.5766423357664233, 'profit_factor': np.float64(1.0632460871845737), 'avg_trade_return': np.float64(18.66960698147946), 'sharpe': np.float64(0.10208167802479876), 'sharpe_ratio': np.float64(0.10208167802479876), 'final_equity': np.float64(12557.73615646268), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009537602080988262), 'avg_drawdown': np.float64(0.4212857642448101), 'max_dd_duration_days': 2607, 'recovery_factor': np.float64(-0.330412520484424), 'sortino_ratio': np.float64(0.215440823579967), 'calmar_ratio': np.float64(0.03557626019231701), 'expectancy': np.float64(18.66960698147932), 'max_consecutive_wins': 11, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.32986793593775293), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.40949926134066095), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1390.2026988018315), 'win_rate': 33.33333333333333}, 'Bear': {'count': 112, 'wins': 67, 'losses': 45, 'pnl': np.float64(7121.861266728675), 'win_rate': 59.82142857142857}, 'Bull': {'count': 22, 'wins': 11, 'losses': 11, 'pnl': np.float64(-3173.9224114641565), 'win_rate': 50.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.10 < 0.8', 'CAGR no supera Buy & Hold: 2.8%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.06 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.109, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 137 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.13671515747713445), 'pnl_gross': np.float64(935.2815600214715), 'pnl': np.float64(911.3093903526609), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(23.97216966881053), 'initial_capital': np.float64(11646.42676611002), 'final_capital': np.float64(12557.73615646268)}
 DEBUG: Result 54 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 54 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.111 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.2601733858399097), 'total_pnl_pct': np.float64(0.2601733858399097), 'total_pnl': np.float64(2601.733858399097), 'max_drawdown_pct': np.float64(-0.7571480524508808), 'max_drawdown': np.float64(-0.7571480524508808), 'cagr': np.float64(0.02796849991086181), 'num_trades': 136, 'total_trades': 136, 'win_rate': 0.5808823529411765, 'profit_factor': np.float64(1.0623165491521411), 'avg_trade_return': np.float64(19.130396017640436), 'sharpe': np.float64(0.10107762064225655), 'sharpe_ratio': np.float64(0.10107762064225655), 'final_equity': np.float64(12601.733858399097), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009458233822346156), 'avg_drawdown': np.float64(0.40339547172233764), 'max_dd_duration_days': 2607, 'recovery_factor': np.float64(-0.343622868734498), 'sortino_ratio': np.float64(0.2163091888234111), 'calmar_ratio': np.float64(0.036939274716917055), 'expectancy': np.float64(19.130396017640408), 'max_consecutive_wins': 11, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3275135845558837), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.40907048264623613), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1428.3782258490055), 'win_rate': 33.33333333333333}, 'Bear': {'count': 111, 'wins': 67, 'losses': 44, 'pnl': np.float64(7287.592198971956), 'win_rate': 60.36036036036037}, 'Bull': {'count': 22, 'wins': 11, 'losses': 11, 'pnl': np.float64(-3257.480114723854), 'win_rate': 50.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.10 < 0.8', 'CAGR no supera Buy & Hold: 2.8%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.06 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.111, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 136 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.13719415724858397), 'pnl_gross': np.float64(938.5584435928207), 'pnl': np.float64(914.5022842332955), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(24.056159359525175), 'initial_capital': np.float64(11687.2315741658), 'final_capital': np.float64(12601.733858399097)}
 DEBUG: Result 55 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 55 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.113 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.18807602890532052), 'total_pnl_pct': np.float64(0.18807602890532052), 'total_pnl': np.float64(1880.7602890532053), 'max_drawdown_pct': np.float64(-0.7532230089942318), 'max_drawdown': np.float64(-0.7532230089942318), 'cagr': np.float64(0.020769718373888857), 'num_trades': 135, 'total_trades': 135, 'win_rate': 0.5851851851851851, 'profit_factor': np.float64(1.0454933363873729), 'avg_trade_return': np.float64(13.931557696690396), 'sharpe': np.float64(0.07413980406009953), 'sharpe_ratio': np.float64(0.07413980406009953), 'final_equity': np.float64(11880.760289053205), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.008791304791113511), 'avg_drawdown': np.float64(0.4061253919767775), 'max_dd_duration_days': 2615, 'recovery_factor': np.float64(-0.24969501284414533), 'sortino_ratio': np.float64(0.20391160211443363), 'calmar_ratio': np.float64(0.027574460851404917), 'expectancy': np.float64(13.931557696690334), 'max_consecutive_wins': 11, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3327480145543435), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4162692641832091), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1466.4689302946463), 'win_rate': 33.33333333333333}, 'Bear': {'count': 110, 'wins': 67, 'losses': 43, 'pnl': np.float64(6686.3127789665305), 'win_rate': 60.909090909090914}, 'Bull': {'count': 22, 'wins': 11, 'losses': 11, 'pnl': np.float64(-3339.0835596186757), 'win_rate': 50.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.07 < 0.8', 'CAGR no supera Buy & Hold: 2.1%  43.7%', 'Calmar Ratio baixo: 0.03 < 1.0', 'Profit Factor baixo: 1.05 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.113, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 135 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.12934497059249642), 'pnl_gross': np.float64(884.8614016841128), 'pnl': np.float64(862.1815493687672), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(22.679852315345645), 'initial_capital': np.float64(11018.578739684439), 'final_capital': np.float64(11880.760289053205)}
 DEBUG: Result 56 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 56 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.115 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.05553555042791468), 'total_pnl_pct': np.float64(0.05553555042791468), 'total_pnl': np.float64(555.3555042791468), 'max_drawdown_pct': np.float64(-0.765047159320434), 'max_drawdown': np.float64(-0.765047159320434), 'cagr': np.float64(0.006467963441169067), 'num_trades': 135, 'total_trades': 135, 'win_rate': 0.5851851851851851, 'profit_factor': np.float64(1.0139994145581679), 'avg_trade_return': np.float64(4.113744476141747), 'sharpe': np.float64(0.023023648718692155), 'sharpe_ratio': np.float64(0.023023648718692155), 'final_equity': np.float64(10555.355504279147), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.00776755005277206), 'avg_drawdown': np.float64(0.4359097764820084), 'max_dd_duration_days': 2759, 'recovery_factor': np.float64(-0.0725910157973073), 'sortino_ratio': np.float64(0.1794201378760287), 'calmar_ratio': np.float64(0.008454332994209592), 'expectancy': np.float64(4.113744476141733), 'max_consecutive_wins': 11, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.33976862924846435), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4305710191159289), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1504.4748121387486), 'win_rate': 33.33333333333333}, 'Bear': {'count': 110, 'wins': 67, 'losses': 43, 'pnl': np.float64(5478.716833306751), 'win_rate': 60.909090909090914}, 'Bull': {'count': 22, 'wins': 11, 'losses': 11, 'pnl': np.float64(-3418.8865168888683), 'win_rate': 50.0}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.02 < 0.8', 'CAGR no supera Buy & Hold: 0.6%  43.7%', 'Calmar Ratio baixo: 0.01 < 1.0', 'Profit Factor baixo: 1.01 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.115, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 135 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.11491538538592404), 'pnl_gross': np.float64(786.1472195004518), 'pnl': np.float64(765.997507011631), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(20.149712488820818), 'initial_capital': np.float64(9789.357997267516), 'final_capital': np.float64(10555.355504279147)}
 DEBUG: Result 57 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 57 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.117 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.49964133138654526), 'total_pnl_pct': np.float64(0.49964133138654526), 'total_pnl': np.float64(4996.413313865452), 'max_drawdown_pct': np.float64(-0.776329330358091), 'max_drawdown': np.float64(-0.776329330358091), 'cagr': np.float64(0.04952459063965242), 'num_trades': 133, 'total_trades': 133, 'win_rate': 0.6015037593984962, 'profit_factor': np.float64(1.1115920455454358), 'avg_trade_return': np.float64(37.56701739748466), 'sharpe': np.float64(0.17453962100751552), 'sharpe_ratio': np.float64(0.17453962100751552), 'final_equity': np.float64(14996.413313865452), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.011365949404635515), 'avg_drawdown': np.float64(0.3648055318410805), 'max_dd_duration_days': 2236, 'recovery_factor': np.float64(-0.6435945569080584), 'sortino_ratio': np.float64(0.252798590753529), 'calmar_ratio': np.float64(0.06379327522870819), 'expectancy': np.float64(37.56701739748479), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3140544612877835), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.3875143919174455), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1542.3958713813158), 'win_rate': 33.33333333333333}, 'Bear': {'count': 108, 'wins': 67, 'losses': 41, 'pnl': np.float64(9257.01991731782), 'win_rate': 62.03703703703704}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-2718.2107320710456), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.17 < 0.8', 'CAGR no supera Buy & Hold: 5.0%  43.7%', 'Calmar Ratio baixo: 0.06 < 1.0', 'Profit Factor baixo: 1.11 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.117, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 133 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.16326485779382952), 'pnl_gross': np.float64(1116.910617022369), 'pnl': np.float64(1088.2831192071214), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(28.627497815247644), 'initial_capital': np.float64(13908.130194658332), 'final_capital': np.float64(14996.413313865452)}
 DEBUG: Result 58 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 58 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.119 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.6027864368217976), 'total_pnl_pct': np.float64(0.6027864368217976), 'total_pnl': np.float64(6027.864368217975), 'max_drawdown_pct': np.float64(-0.7521323774304212), 'max_drawdown': np.float64(-0.7521323774304212), 'cagr': np.float64(0.05788521655773193), 'num_trades': 132, 'total_trades': 132, 'win_rate': 0.6060606060606061, 'profit_factor': np.float64(1.1295324987278337), 'avg_trade_return': np.float64(45.66563915316653), 'sharpe': np.float64(0.1988580856331514), 'sharpe_ratio': np.float64(0.1988580856331514), 'final_equity': np.float64(16027.864368217975), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.012032655868832539), 'avg_drawdown': np.float64(0.34693553610583394), 'max_dd_duration_days': 2206, 'recovery_factor': np.float64(-0.8014366285907703), 'sortino_ratio': np.float64(0.2658568776405873), 'calmar_ratio': np.float64(0.07696147419619204), 'expectancy': np.float64(45.665639153166524), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.31483636566387585), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.379153765999366), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1580.232108022348), 'win_rate': 33.33333333333333}, 'Bear': {'count': 107, 'wins': 67, 'losses': 40, 'pnl': np.float64(10303.270993923594), 'win_rate': 62.616822429906534}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-2695.1745176832665), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.20 < 0.8', 'CAGR no supera Buy & Hold: 5.8%  43.7%', 'Calmar Ratio baixo: 0.08 < 1.0', 'Profit Factor baixo: 1.13 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.119, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 132 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.17449419018055834), 'pnl_gross': np.float64(1193.7315614331299), 'pnl': np.float64(1163.135068619744), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(30.596492813385684), 'initial_capital': np.float64(14864.729299598232), 'final_capital': np.float64(16027.864368217975)}
 DEBUG: Result 59 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 59 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.121 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.4389212891248702), 'total_pnl_pct': np.float64(0.4389212891248702), 'total_pnl': np.float64(4389.212891248702), 'max_drawdown_pct': np.float64(-0.7635562140115147), 'max_drawdown': np.float64(-0.7635562140115147), 'cagr': np.float64(0.044362847059170374), 'num_trades': 132, 'total_trades': 132, 'win_rate': 0.6060606060606061, 'profit_factor': np.float64(1.0984319338255584), 'avg_trade_return': np.float64(33.25161281249017), 'sharpe': np.float64(0.1532731968435865), 'sharpe_ratio': np.float64(0.1532731968435865), 'final_equity': np.float64(14389.212891248702), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.011101904180287007), 'avg_drawdown': np.float64(0.36833924123307726), 'max_dd_duration_days': 2236, 'recovery_factor': np.float64(-0.5748382123942103), 'sortino_ratio': np.float64(0.24318516659770018), 'calmar_ratio': np.float64(0.058100302564627365), 'expectancy': np.float64(33.25161281249029), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3196609505145377), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.39267613549792757), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1617.9835220618447), 'win_rate': 33.33333333333333}, 'Bear': {'count': 107, 'wins': 67, 'losses': 40, 'pnl': np.float64(8805.217230389422), 'win_rate': 62.616822429906534}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-2798.0208170788756), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.15 < 0.8', 'CAGR no supera Buy & Hold: 4.4%  43.7%', 'Calmar Ratio baixo: 0.06 < 1.0', 'Profit Factor baixo: 1.10 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.121, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 132 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.15665431108669), 'pnl_gross': np.float64(1071.6872303040213), 'pnl': np.float64(1044.218851566654), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(27.468378737367424), 'initial_capital': np.float64(13344.99403968205), 'final_capital': np.float64(14389.212891248702)}
 DEBUG: Result 60 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 60 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.123 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.29149562725194555), 'total_pnl_pct': np.float64(0.29149562725194555), 'total_pnl': np.float64(2914.9562725194555), 'max_drawdown_pct': np.float64(-0.7744775079687571), 'max_drawdown': np.float64(-0.7744775079687571), 'cagr': np.float64(0.03098345778549394), 'num_trades': 132, 'total_trades': 132, 'win_rate': 0.6060606060606061, 'profit_factor': np.float64(1.068163200866559), 'avg_trade_return': np.float64(22.083002064541404), 'sharpe': np.float64(0.10749809048281928), 'sharpe_ratio': np.float64(0.10749809048281928), 'final_equity': np.float64(12914.956272519456), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.010172823026557636), 'avg_drawdown': np.float64(0.3907217390682524), 'max_dd_duration_days': 2330, 'recovery_factor': np.float64(-0.3763771371701406), 'sortino_ratio': np.float64(0.22082410332735036), 'calmar_ratio': np.float64(0.0400056263309119), 'expectancy': np.float64(22.08300206454146), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3246360443739161), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.406055524771604), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1655.6501134998036), 'win_rate': 33.33333333333333}, 'Bear': {'count': 107, 'wins': 67, 'losses': 40, 'pnl': np.float64(7462.038153425658), 'win_rate': 62.616822429906534}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-2891.4317674063877), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.11 < 0.8', 'CAGR no supera Buy & Hold: 3.1%  43.7%', 'Calmar Ratio baixo: 0.04 < 1.0', 'Profit Factor baixo: 1.07 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.123, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 132 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.14060418682225), 'pnl_gross': np.float64(961.8867843432685), 'pnl': np.float64(937.232697080034), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(24.654087263234437), 'initial_capital': np.float64(11977.72357543942), 'final_capital': np.float64(12914.956272519456)}
 DEBUG: Result 61 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 61 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.125 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.24619478268642087), 'total_pnl_pct': np.float64(0.24619478268642087), 'total_pnl': np.float64(2461.9478268642088), 'max_drawdown_pct': np.float64(-0.7849173076297962), 'max_drawdown': np.float64(-0.7849173076297962), 'cagr': np.float64(0.026601623165191546), 'num_trades': 130, 'total_trades': 130, 'win_rate': 0.6153846153846154, 'profit_factor': np.float64(1.0632846296180702), 'avg_trade_return': np.float64(18.938060206647627), 'sharpe': np.float64(0.09769989728030591), 'sharpe_ratio': np.float64(0.09769989728030591), 'final_equity': np.float64(12461.947826864209), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009953302511071668), 'avg_drawdown': np.float64(0.4104930513507966), 'max_dd_duration_days': 2341, 'recovery_factor': np.float64(-0.3136569678019354), 'sortino_ratio': np.float64(0.21302237733533294), 'calmar_ratio': np.float64(0.03389098814182107), 'expectancy': np.float64(18.938060206647606), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.33541827686201053), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.4104373593919064), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1693.2318823362264), 'win_rate': 33.33333333333333}, 'Bear': {'count': 105, 'wins': 67, 'losses': 38, 'pnl': np.float64(7294.298584553319), 'win_rate': 63.8095238095238}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-3139.1188753529013), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.10 < 0.8', 'CAGR no supera Buy & Hold: 2.7%  43.7%', 'Calmar Ratio baixo: 0.03 < 1.0', 'Profit Factor baixo: 1.06 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.125, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 130 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.13567231692033654), 'pnl_gross': np.float64(928.1473873312287), 'pnl': np.float64(904.3580733985809), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(23.789313932647858), 'initial_capital': np.float64(11557.589753465629), 'final_capital': np.float64(12461.947826864209)}
 DEBUG: Result 62 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 62 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.127 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.1755001041566533), 'total_pnl_pct': np.float64(0.1755001041566533), 'total_pnl': np.float64(1755.0010415665329), 'max_drawdown_pct': np.float64(-0.7948958242875167), 'max_drawdown': np.float64(-0.7948958242875167), 'cagr': np.float64(0.01947480226809639), 'num_trades': 129, 'total_trades': 129, 'win_rate': 0.6124031007751938, 'profit_factor': np.float64(1.0470994448628321), 'avg_trade_return': np.float64(13.604659236949965), 'sharpe': np.float64(0.07227461048116475), 'sharpe_ratio': np.float64(0.07227461048116475), 'final_equity': np.float64(11755.001041566533), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.009507451806504148), 'avg_drawdown': np.float64(0.42889233566407586), 'max_dd_duration_days': 2523, 'recovery_factor': np.float64(-0.2207837792001965), 'sortino_ratio': np.float64(0.20117414117788696), 'calmar_ratio': np.float64(0.024499817049048033), 'expectancy': np.float64(13.604659236949885), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3408421161740154), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.41756418028900155), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1730.7288285711156), 'win_rate': 33.33333333333333}, 'Bear': {'count': 104, 'wins': 66, 'losses': 38, 'pnl': np.float64(6746.464215378623), 'win_rate': 63.46153846153846}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-3260.7343452409605), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.07 < 0.8', 'CAGR no supera Buy & Hold: 1.9%  43.7%', 'Calmar Ratio baixo: 0.02 < 1.0', 'Profit Factor baixo: 1.05 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.127, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 129 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.12797583883895988), 'pnl_gross': np.float64(875.4950394902445), 'pnl': np.float64(853.0552560838655), 'pnl_pct': np.float64(0.07911740388277334), 'commission': np.float64(22.439783406379036), 'initial_capital': np.float64(10901.945785482665), 'final_capital': np.float64(11755.001041566533)}
 DEBUG: Result 63 keys: ['stop_loss', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 63 has parameter 'stop_loss': True
 DEBUG: Extracted param_value for 'stop_loss': 0.129 (type: float)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.35605870879765206), 'total_pnl_pct': np.float64(0.35605870879765206), 'total_pnl': np.float64(3560.5870879765207), 'max_drawdown_pct': np.float64(-0.7876314380362626), 'max_drawdown': np.float64(-0.7876314380362626), 'cagr': np.float64(0.03700013038088379), 'num_trades': 126, 'total_trades': 126, 'win_rate': 0.626984126984127, 'profit_factor': np.float64(1.0925097172458855), 'avg_trade_return': np.float64(28.258627682353396), 'sharpe': np.float64(0.1367612109164236), 'sharpe_ratio': np.float64(0.1367612109164236), 'final_equity': np.float64(13560.58708797652), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.0109268703126213), 'avg_drawdown': np.float64(0.39450591927004686), 'max_dd_duration_days': 2320, 'recovery_factor': np.float64(-0.4520625912106611), 'sortino_ratio': np.float64(0.22990434452060474), 'calmar_ratio': np.float64(0.04697645192164143), 'expectancy': np.float64(28.258627682353392), 'max_consecutive_wins': 13, 'max_consecutive_losses': 4, 'trade_concentration_top_10_pct': np.float64(0.3340594303789742), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.40003885217621415), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 3, 'wins': 1, 'losses': 2, 'pnl': np.float64(-1768.1409522044673), 'win_rate': 33.33333333333333}, 'Bear': {'count': 101, 'wins': 66, 'losses': 35, 'pnl': np.float64(9030.166372071262), 'win_rate': 65.34653465346535}, 'Bull': {'count': 22, 'wins': 12, 'losses': 10, 'pnl': np.float64(-3701.438331890262), 'win_rate': 54.54545454545454}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.14 < 0.8', 'CAGR no supera Buy & Hold: 3.7%  43.7%', 'Calmar Ratio baixo: 0.05 < 1.0', 'Profit Factor baixo: 1.09 < 1.3'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.129, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 126 trades
 DEBUG: First trade sample: {'entry_time': '2025-11-21T16:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(84251.40465), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.14763312241283238), 'pnl_gross': np.float64(1009.9724097103741), 'pnl': np.float64(984.0858414283707), 'pnl_pct': np.float64(0.07911740388277333), 'commission': np.float64(25.886568282003424), 'initial_capital': np.float64(12576.50124654815), 'final_capital': np.float64(13560.58708797652)}
2026-01-07 22:19:00,570 - app.services.job_manager - INFO - Saved batch of 64 results for job 110e489d-a5b6-4849-a277-b445e4df6c06
 Saved 64 results to database (total: 64)
 Running stage 2/2: Stop Gain
 Locked params before stage: {'timeframe': '4h', 'fee': 0.00075, 'slippage': 0.0, 'stop_loss': 0.0}
2026-01-07 22:19:00,696 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 1d: data/storage\binance\BTC_USDT_1d.parquet
2026-01-07 22:19:00,716 - src.data.incremental_loader - INFO - Incremental update needed. Downloading from 2026-01-07 21:00:00.001000
2026-01-07 22:19:00,726 - src.data.incremental_loader - INFO - Starting download loop for BTC/USDT from 2026-01-07 21:00:00.001000
2026-01-07 22:19:09,916 - root - INFO - Full history period: 2017-08-17T00:00:00+00:00 to 2026-01-08T00:00:00+00:00 (3067 candles)
2026-01-07 22:19:09,966 - root - INFO - Running backtest: BTC/USDT 4h from 2017-08-17 to 2026-01-08
2026-01-07 22:19:09,970 - src.data.incremental_loader - INFO - Local cache found for BTC/USDT 4h: data/storage\binance\BTC_USDT_4h.parquet
2026-01-07 22:19:09,976 - src.data.incremental_loader - INFO - Local data covers request. No network fetch needed.
2026-01-07 22:19:10,012 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:19:10,013 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:19:10,019 - app.strategies.dynamic_strategy - INFO - Processed crossover entry for RSI_14 > 30.0: 279 signals
2026-01-07 22:19:10,021 - app.strategies.dynamic_strategy - INFO - Processed crossunder exit for RSI_14 < 70.0: 339 signals
2026-01-07 22:19:10,289 - root - INFO - DEBUG: Test 1 (stop_gain=None) -> Return: 0.736359708019979, Equity: 17363.59708019979, PnL: 7363.59708019979
 DEBUG: stage_result keys: dict_keys(['stage_num', 'stage_name', 'parameter', 'results', 'best_value', 'best_result'])
 DEBUG: stage['parameter']: stop_gain
 DEBUG: Number of results: 1
 DEBUG: Result 0 keys: ['stop_gain', 'metrics', 'trades', 'test_num', 'total_tests']
 DEBUG: Result 0 has parameter 'stop_gain': True
 DEBUG: Extracted param_value for 'stop_gain': None (type: NoneType)
 DEBUG: Result Metrics: {'total_return_pct': np.float64(0.736359708019979), 'total_pnl_pct': np.float64(0.736359708019979), 'total_pnl': np.float64(7363.59708019979), 'max_drawdown_pct': np.float64(-0.8122585304429123), 'max_drawdown': np.float64(-0.8122585304429123), 'cagr': np.float64(0.06803471514019721), 'num_trades': 85, 'total_trades': 85, 'win_rate': 0.7058823529411765, 'profit_factor': np.float64(1.238294107884464), 'avg_trade_return': np.float64(86.63055388470329), 'sharpe': np.float64(0.24715700987911152), 'sharpe_ratio': np.float64(0.24715700987911152), 'final_equity': np.float64(17363.59708019979), 'duration_days': 3062, 'monthly_return_avg': np.float64(0.012650702527556007), 'avg_drawdown': np.float64(0.4225596571772415), 'max_dd_duration_days': 2550, 'recovery_factor': np.float64(-0.906558294461313), 'sortino_ratio': np.float64(0.28266621955889154), 'calmar_ratio': np.float64(0.08375992690787613), 'expectancy': np.float64(86.63055388470332), 'max_consecutive_wins': 13, 'max_consecutive_losses': 3, 'trade_concentration_top_10_pct': np.float64(0.3850780597512765), 'benchmark': {'return_pct': np.float64(19.96038841468601), 'cagr': np.float64(0.43703898255709794), 'final_value': np.float64(209603.88414686013)}, 'alpha': np.float64(-0.36900426741690073), 'avg_atr': 623.4311503780252, 'avg_adx': 28.248034971678425, 'regime_performance': {'Unknown': {'count': 1, 'wins': 0, 'losses': 1, 'pnl': np.float64(-85.23337893387531), 'win_rate': 0.0}, 'Bear': {'count': 63, 'wins': 46, 'losses': 17, 'pnl': np.float64(4747.800906793886), 'win_rate': 73.01587301587301}, 'Bull': {'count': 21, 'wins': 14, 'losses': 7, 'pnl': np.float64(2701.029552339773), 'win_rate': 66.66666666666666}}, 'criteria_result': {'status': 'NO-GO', 'reasons': ['Sharpe Ratio muito baixo: 0.25 < 0.8', 'CAGR no supera Buy & Hold: 6.8%  43.7%', 'Calmar Ratio baixo: 0.08 < 1.0', 'Profit Factor baixo: 1.24 < 1.3', 'Poucos trades para validao estatstica: 85 < 100'], 'warnings': []}, 'strategy': 'rsi', 'timeframe': '4h'}
 DEBUG: full_params after assignment: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.0, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: result_data has 85 trades
 DEBUG: First trade sample: {'entry_time': '2025-10-30T20:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(108377.04144), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.18853551643213426), 'pnl_gross': np.float64(-3258.7497647462496), 'pnl': np.float64(-3296.3568579360576), 'pnl_pct': np.float64(-0.1613257732919802), 'commission': np.float64(37.60709318980818), 'initial_capital': np.float64(20659.953938135848), 'final_capital': np.float64(17363.59708019979)}
2026-01-07 22:19:10,460 - app.services.job_manager - INFO - Saved batch of 1 results for job 110e489d-a5b6-4849-a277-b445e4df6c06
 Saved 1 results to database (total: 65)
 Using best result from FINAL STAGE with all optimized params: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.0, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 Optimization complete! Tested 64 combinations in 70.4s
 Job 110e489d-a5b6-4849-a277-b445e4df6c06 completed and saved to database
 DEBUG: Best result has 85 trades
 DEBUG: Best Result Params: {'length': 14, 'overbought': 70, 'oversold': 30, 'timeframe': '4h', 'stop_loss': 0.0, 'stop_gain': None, 'fee': 0.00075, 'slippage': 0.0}
 DEBUG: Best Result First Trade: {'entry_time': '2025-10-30T20:00:00.000000000', 'exit_time': '2026-01-04T16:00:00.000000000', 'side': 'long', 'reason': 'Signal', 'entry_price': np.float64(108377.04144), 'exit_price': np.float64(91092.50096500001), 'size': np.float64(0.18853551643213426), 'pnl_gross': np.float64(-3258.7497647462496), 'pnl': np.float64(-3296.3568579360576), 'pnl_pct': np.float64(-0.1613257732919802), 'commission': np.float64(37.60709318980818), 'initial_capital': np.float64(20659.953938135848), 'final_capital': np.float64(17363.59708019979)}
